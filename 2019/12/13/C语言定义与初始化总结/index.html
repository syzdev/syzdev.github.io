<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><link rel="icon" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="syz"><meta name="keywords" content=""><title>C语言定义与初始化总结 - syzdev</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"yoursite.com",root:"/",version:"1.8.10",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:35vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>😄 syzdev</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://cdn.u1.huluxia.com/g3/M02/4D/6C/wKgBOV6fEU2AXFGSAAJ7A1Fp7rw147.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="C语言定义与初始化总结"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2019-12-13 19:36" pubdate>2019年12月13日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.1k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 28 分钟</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">C语言定义与初始化总结</h1><div class="markdown-body"><h1 id="1-实型"><a class="markdownIt-Anchor" href="#1-实型"></a> 1 实型</h1><p>实型分为十进制小数类型和指数形式，其中指数形式，<strong>规定以字母e和E代表以10为底的指数，但应注意：e或E之前必须有数字，且e或E后面必须为整数。</strong></p><ul><li>正确示例：12.34e3、-346.87e-25、0.145E-25、1.2e0、123e03</li><li>错误示例：e4、12e2.5</li></ul><h1 id="2-标识符"><a class="markdownIt-Anchor" href="#2-标识符"></a> 2 标识符</h1><p>除了变量名，后面还会讲到函数名、宏名、结构体名等，它们都是标识符。<strong>标识符只能由字母（A~Z, a~z）、数字（0-9）和下划线（_）组成，并且第一个字符必须是字母或下划线，不能是数字。C语言标识符区分大小写。</strong></p><ul><li>正确示例：a、x、x3、BOOK_1、sum5</li><li>错误示例：3s、-3x、bowy-1、s*T</li></ul><blockquote><p>C语言虽然不限制标识符的长度，但是它受到不同编译器的限制，同时也受到操作系统的限制。例如在某个编译器中规定标识符前 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>128</mn></mrow><annotation encoding="application/x-tex">128</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">8</span></span></span></span> 位有效，当两个标识符前 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>128</mn></mrow><annotation encoding="application/x-tex">128</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">8</span></span></span></span> 位相同时，则被认为是同一个标识符。</p></blockquote><h1 id="3-变量"><a class="markdownIt-Anchor" href="#3-变量"></a> 3 变量</h1><p>可以定义多个变量并为多个变量赋初值，如</p><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a, b, c=<span class="hljs-number">5</span>; <span class="hljs-comment">// 正确</span><br><span class="hljs-keyword">int</span> a=<span class="hljs-number">3</span>, b=<span class="hljs-number">3</span>, c=<span class="hljs-number">3</span>; <span class="hljs-comment">// 正确</span><br><span class="hljs-keyword">int</span> a=b=c=<span class="hljs-number">3</span>; <span class="hljs-comment">// 错误</span><br></code></pre></div></td></tr></table></figure><h1 id="4-一维数组"><a class="markdownIt-Anchor" href="#4-一维数组"></a> 4 一维数组</h1><h2 id="41-注意点"><a class="markdownIt-Anchor" href="#41-注意点"></a> 4.1 注意点</h2><ul><li>数组大小可以使用常量或者符号常量，如 <code>int a[3+5];</code>，但是不能使用变量，如 <code>int a[n];</code> <strong>但C99支持这种做法</strong>。</li><li>在被调用函数中定义数组，可以使用变量，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>	<span class="hljs-keyword">int</span> a[<span class="hljs-number">2</span>*n];<br>&#125;<br></code></pre></div></td></tr></table></figure><ul><li>如果指定数组为静态数组，则不能使用可变长数组，如 <code>static int a[2*n];</code>就是错误的。</li></ul><h2 id="42-初始化"><a class="markdownIt-Anchor" href="#42-初始化"></a> 4.2 初始化</h2><ul><li>在定义数组时对全部数组元素赋初值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>可以对数组中一部分元素赋初值，则只给前五个元素赋值，后五个赋值 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>可以初始化全部为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>初始化可以不指定长度，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br></code></pre></div></td></tr></table></figure><h1 id="5-二维数组"><a class="markdownIt-Anchor" href="#5-二维数组"></a> 5 二维数组</h1><h2 id="51-初始化"><a class="markdownIt-Anchor" href="#51-初始化"></a> 5.1 初始化</h2><ul><li>分行给二维数组赋初值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;, &#123;<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>&#125;, &#123;<span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>&#125;&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>可以将数据写在一个括号里赋初值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>可以对部分元素赋初值，这样对各行第一个元素赋初值，其他的为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">1</span>&#125;, &#123;<span class="hljs-number">5</span>&#125;, &#123;<span class="hljs-number">9</span>&#125;&#125;;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    1 0 0 0</span><br><span class="hljs-comment">    5 0 0 0 </span><br><span class="hljs-comment">    9 0 0 0</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><ul><li>可以对各行中某一元素赋初值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">1</span>&#125;, &#123;<span class="hljs-number">0</span>, <span class="hljs-number">6</span>&#125;, &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>&#125;&#125;;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    1 0 0 0</span><br><span class="hljs-comment">    0 6 0 0 </span><br><span class="hljs-comment">    0 0 11 0</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><ul><li>可以只对某行几个元素赋初值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">1</span>&#125;, &#123;<span class="hljs-number">5</span>, <span class="hljs-number">6</span>&#125;&#125;;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    1 0 0 0</span><br><span class="hljs-comment">    5 6 0 0 </span><br><span class="hljs-comment">    0 0 0 0</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><ul><li>也可以对其中一行不赋值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">1</span>&#125;, &#123;&#125;, &#123;<span class="hljs-number">9</span>&#125;&#125;;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    1 0 0 0</span><br><span class="hljs-comment">    0 0 0 0 </span><br><span class="hljs-comment">    9 0 0 0</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><ul><li>如果对全部元素赋初值，则一维长度可以省略，二者等价，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[][<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>&#125;;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>可以只对部分元素赋初值并省略一维长度，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">int</span> a[][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>&#125;, &#123;&#125;, &#123;<span class="hljs-number">0</span>, <span class="hljs-number">10</span>&#125;&#125;;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    0 0 3 0</span><br><span class="hljs-comment">    0 0 0 0 </span><br><span class="hljs-comment">    0 10 0 0</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h1 id="6-字符数组"><a class="markdownIt-Anchor" href="#6-字符数组"></a> 6 字符数组</h1><h2 id="61-初始化"><a class="markdownIt-Anchor" href="#61-初始化"></a> 6.1 初始化</h2><ul><li>把各个字符依次赋值给数组，数量大于数组长度会报错，数量小于数组长度会将剩下的位置赋值为<code>\0</code>，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">char</span> c[<span class="hljs-number">10</span>] = &#123;<span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>二维字符数组，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">char</span> c[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>] = &#123;&#123;<span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;u&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>&#125;&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>用字符串常量来初始化字符数组，三者等价，此时系统会在末尾加上一个<code>\0</code>，所以实际长度会是字符串长度<code>+1</code>，若给定了字符数组的长度，而字符串长度小于字符数组定义长度，其余位置会赋值<code>\0</code>，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">char</span> c[] = &#123;<span class="hljs-string">&quot;I am happy&quot;</span>&#125;;<br><span class="hljs-keyword">char</span> c[] = <span class="hljs-string">&quot;I am happy&quot;</span>;    <span class="hljs-comment">// 可以省略花括号</span><br><span class="hljs-keyword">char</span> c[] = &#123;<span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;\0&#x27;</span>&#125;; <span class="hljs-comment">// 与上面等价</span><br></code></pre></div></td></tr></table></figure><h2 id="62-与字符指针的比较"><a class="markdownIt-Anchor" href="#62-与字符指针的比较"></a> 6.2 与字符指针的比较</h2><ul><li>字符数组存放若干元素，字符指针存放字符串的首地址；</li><li>可以对字符指针赋值，但不能对数组名赋值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">char</span> *p;<br>p = <span class="hljs-string">&quot;I love China&quot;</span>; <span class="hljs-comment">// 正确</span><br><br><span class="hljs-keyword">char</span> c[<span class="hljs-number">14</span>];<br>c = <span class="hljs-string">&quot;I love China&quot;</span>; <span class="hljs-comment">// 错误</span><br>c[<span class="hljs-number">14</span>] = <span class="hljs-string">&quot;I love China&quot;</span>; <span class="hljs-comment">// 错误</span><br></code></pre></div></td></tr></table></figure><ul><li>字符数组中各元素的值是可以改变的（可以再次赋值），字符指针指向的字符串常量是不能再次赋值的，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">char</span> a[] = <span class="hljs-string">&quot;china&quot;</span>;<br><span class="hljs-keyword">char</span> *b = <span class="hljs-string">&quot;china&quot;</span>;<br>a[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;r&#x27;</span>; <span class="hljs-comment">// 正确</span><br>b[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;r&#x27;</span>; <span class="hljs-comment">// 错误</span><br></code></pre></div></td></tr></table></figure><h1 id="7-结构体"><a class="markdownIt-Anchor" href="#7-结构体"></a> 7 结构体</h1><h2 id="71-声明定义"><a class="markdownIt-Anchor" href="#71-声明定义"></a> 7.1 声明定义</h2><ul><li>先声明，再定义，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Student</span> &#123;</span><br>	<span class="hljs-keyword">char</span> name[<span class="hljs-number">20</span>];<br>	<span class="hljs-keyword">int</span> age;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Student</span> <span class="hljs-title">student1</span>, <span class="hljs-title">student2</span>;</span> <span class="hljs-comment">// 定义了两个Student结构体</span><br></code></pre></div></td></tr></table></figure><ul><li>在声明类型的同时定义变量，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Student</span> &#123;</span><br>	<span class="hljs-keyword">char</span> name[<span class="hljs-number">20</span>];<br>	<span class="hljs-keyword">int</span> age;<br>&#125;student1, student2;<br></code></pre></div></td></tr></table></figure><ul><li>匿名结构体，直接定义变量，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span><br>	<span class="hljs-keyword">char</span> name[<span class="hljs-number">20</span>];<br>	<span class="hljs-keyword">int</span> age;<br>&#125;student1, student2;<br></code></pre></div></td></tr></table></figure><h2 id="72-初始化"><a class="markdownIt-Anchor" href="#72-初始化"></a> 7.2 初始化</h2><ul><li>定义结构体并初始化：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Student</span> &#123;</span><br>	<span class="hljs-keyword">char</span> name[<span class="hljs-number">20</span>];<br>	<span class="hljs-keyword">int</span> age;<br>&#125; student1 = &#123;<span class="hljs-string">&quot;xiaoming&quot;</span>, <span class="hljs-number">20</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>C99允许对某个成员初始化，则其他变量默认初始化 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Student</span> <span class="hljs-title">student1</span> =</span> &#123;.age=<span class="hljs-number">12</span>&#125;; <span class="hljs-comment">// 只对age进行初始化</span><br></code></pre></div></td></tr></table></figure><ul><li>同类型结构体变量可以相互赋值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c">student1 = student2;<br></code></pre></div></td></tr></table></figure><ul><li>定义结构体数组并初始化，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Student</span> &#123;</span><br>	<span class="hljs-keyword">char</span> name[<span class="hljs-number">20</span>];<br>	<span class="hljs-keyword">int</span> age;<br>&#125; student[<span class="hljs-number">2</span>] = &#123;<span class="hljs-string">&quot;xiaoming&quot;</span>, <span class="hljs-number">20</span>, <span class="hljs-string">&quot;lihao&quot;</span>, <span class="hljs-number">15</span>&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>定义时初始化，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Student</span> <span class="hljs-title">student</span>[2] =</span> &#123;<span class="hljs-string">&quot;xiaoming&quot;</span>, <span class="hljs-number">20</span>, <span class="hljs-string">&quot;lihao&quot;</span>, <span class="hljs-number">15</span>&#125;;<br></code></pre></div></td></tr></table></figure><h2 id="73-结构体指针"><a class="markdownIt-Anchor" href="#73-结构体指针"></a> 7.3 结构体指针</h2><p>若 <code>struct Student *p = student1;</code>，使用 <code>p-&gt;age</code> 代替 <code>(*p).age</code>（ <code>.</code> 优先级大于 <code>*</code>，括号不能省），以下三种写法等价：</p><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c">student1.age;<br>(*p).age;<br>p-&gt;age;<br></code></pre></div></td></tr></table></figure><h1 id="8-共用体"><a class="markdownIt-Anchor" href="#8-共用体"></a> 8 共用体</h1><p>共用体 <code>union</code> 可以用一段内存存放不同类型的变量，它在每一瞬间只能存放其中一个成员，对共用体变量多次赋值，只保留最后一次赋值的值，共用体变量所占的内存长度等于最长的成员长度，初始化跟结构体有点像。</p><ul><li>声明并定义共用体，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Data</span> &#123;</span><br>	<span class="hljs-keyword">int</span> i;<br>	<span class="hljs-keyword">char</span> ch;<br>	<span class="hljs-keyword">float</span> f;<br>&#125; a, b, c;<br></code></pre></div></td></tr></table></figure><ul><li>可以声明和定义分开，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Data</span> &#123;</span><br>	<span class="hljs-keyword">int</span> i;<br>	<span class="hljs-keyword">char</span> ch;<br>	<span class="hljs-keyword">float</span> f;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Data</span> <span class="hljs-title">a</span>, <span class="hljs-title">b</span>, <span class="hljs-title">c</span>;</span><br></code></pre></div></td></tr></table></figure><ul><li>初始化方法，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Data</span> &#123;</span><br>	<span class="hljs-keyword">int</span> i;<br>	<span class="hljs-keyword">char</span> ch;<br>	<span class="hljs-keyword">float</span> f;<br>&#125; a = &#123;<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1.5</span>&#125;; <span class="hljs-comment">// 错误，不能同时初始化3个</span><br><span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Data</span> <span class="hljs-title">a</span> =</span> &#123;<span class="hljs-number">16</span>&#125;; <span class="hljs-comment">// 正确</span><br><span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Data</span> <span class="hljs-title">a</span> =</span> &#123;.ch=<span class="hljs-string">&#x27;j&#x27;</span>&#125;; <span class="hljs-comment">// 正确 C99新增</span><br></code></pre></div></td></tr></table></figure><ul><li>对共用体赋值要指明赋值对象，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c">a.ch = <span class="hljs-string">&#x27;A&#x27;</span>; <span class="hljs-comment">// 正确</span><br>a.f = <span class="hljs-number">1.5</span>;  <span class="hljs-comment">// 正确</span><br>a.i = <span class="hljs-number">40</span>;   <span class="hljs-comment">// 正确</span><br>a = <span class="hljs-number">1</span>;      <span class="hljs-comment">// 错误，没有指明赋值对象</span><br></code></pre></div></td></tr></table></figure><ul><li>C99 允许共用体之间相互赋值，允许共用体变量作为函数参数。</li></ul><h1 id="9-枚举"><a class="markdownIt-Anchor" href="#9-枚举"></a> 9 枚举</h1><p>如果变量有几种可能的值，则可以定义枚举，即把可能的值一一列举出来，变量的值只限于举例出来的值范围内，每一个枚举变量范围取值代表一个整数，从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span> 开始递增。</p><ul><li>声明枚举类型，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Weekday</span> &#123;</span>sun, mon, tue, wed, thu, fri, sat&#125;;<br></code></pre></div></td></tr></table></figure><ul><li>定义枚举类型，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Weekday</span> <span class="hljs-title">workday</span>, <span class="hljs-title">weedkend</span>;</span><br></code></pre></div></td></tr></table></figure><ul><li>赋值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c">workday = mon; <span class="hljs-comment">// 正确</span><br>workday = sun; <span class="hljs-comment">// 正确</span><br>Weekday = monday; <span class="hljs-comment">// 错误，monday不是范围类的取值</span><br></code></pre></div></td></tr></table></figure><ul><li>可以人为的指定枚举元素的取值，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Weekday</span> &#123;</span>sun=<span class="hljs-number">7</span>, mon=<span class="hljs-number">1</span>, tue, wed, thu, fri, sat&#125;;<br><span class="hljs-comment">// sun=7, mon=1, tue=2, wed=3, thu=4, fri=5, sat=6</span><br></code></pre></div></td></tr></table></figure><ul><li>枚举元素可以用来做判断比较，通过初始化时的整数进行比较，如：</li></ul><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">if</span> (workday == mon)&#123;&#125; <span class="hljs-comment">// 正确</span><br><span class="hljs-keyword">if</span> (workday &gt; sun)&#123;&#125; <span class="hljs-comment">// 正确</span><br></code></pre></div></td></tr></table></figure></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/C%E8%AF%AD%E8%A8%80/">C语言</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2019/12/13/%E5%8F%98%E9%87%8F%E7%94%9F%E5%AD%98%E6%9C%9F%E5%8F%8A%E4%BD%9C%E7%94%A8%E5%9F%9F/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">变量生存期及作用域</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2019/12/13/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93/"><span class="hidden-mobile">文件操作总结</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/local-search.js"></script><script>$("#local-search-input").on("click",(function(){searchFunc("/local-search.xml","local-search-input","local-search-result")})),$("#modalSearch").on("shown.bs.modal",(function(){$("#local-search-input").focus()}))</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"><script src="/js/boot.js"></script></body></html>