<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;light&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><link rel="icon" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="syz"><meta name="keywords" content=""><title>数组方法大全解 - syzdev</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"yoursite.com",root:"/",version:"1.8.10",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:1},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:35vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>😄 syzdev</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://cdn.u1.huluxia.com/g3/M02/4D/6C/wKgBOV6fEU2AXFGSAAJ7A1Fp7rw147.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="数组方法大全解"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-03-25 15:07" pubdate>2022年3月25日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 8k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 102 分钟</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">数组方法大全解</h1><div class="markdown-body"><h1 id="0-前言"><a class="markdownIt-Anchor" href="#0-前言"></a> 0 前言</h1><ol><li>本文只讲解标准化方法，而不会讲解实验性方法，如<code>at()</code>、<code>groupBy()</code>、<code>groupByMap()</code>和<code>toSource()</code>。</li><li>数组中的部分方法需要提供区间范围<code>begin/start</code>和<code>end</code>，所有含有这类范围的方法，其区间都遵循左闭右开原则，如<code>(1,4)</code>，在数学上可以理解为<code>[1,4)</code>。</li><li>部分数组方法会改变原数组，这一点一定要注意。</li></ol><h1 id="1-是否改变原数组"><a class="markdownIt-Anchor" href="#1-是否改变原数组"></a> 1 是否改变原数组</h1><h2 id="11-改变原数组的方法"><a class="markdownIt-Anchor" href="#11-改变原数组的方法"></a> 1.1 改变原数组的方法</h2><ol><li>填充与复制方法：<code>fill()</code>、<code>copeWithin()</code>；</li><li>栈方法：<code>pop()</code>、<code>push()</code>；</li><li>队列方法：<code>shift()</code>、<code>unshift()</code>；</li><li>排序方法：<code>sort()</code>、<code>reverse()</code>；</li><li>删除/插入/替换方法：<code>splice()</code>。</li></ol><p>其实很好理解和记忆，除去上面列出的方法类型，其他方法类型大概为查找方法和迭代方法，这两种类型的方法是不会改变原数组的。</p><h2 id="12-不改变原数组的方法"><a class="markdownIt-Anchor" href="#12-不改变原数组的方法"></a> 1.2 不改变原数组的方法</h2><p>除去上面以外的其他方法不会改变原数组，但有三个方法容易记错：</p><ol><li><code>concat()</code>：用于合并数组，该方法会返回合并后的新数组。</li><li><code>slice()</code>：用于根据区间截取数组中的元素，返回截取后的新数组，主要是容易和<code>splice()</code>记混。</li><li><code>flat()</code>：用于扁平化数组，该方法返回扁平化后的新数组。</li></ol><h1 id="2-栈方法"><a class="markdownIt-Anchor" href="#2-栈方法"></a> 2 栈方法</h1><p>栈是一种先进后出的数据结构，JavaScript中的数组通过<code>push()</code>和<code>pop()</code>两个方法实现入栈和出栈的操作。</p><h2 id="21-push"><a class="markdownIt-Anchor" href="#21-push"></a> 2.1 <code>push()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newLength = arr.push(element1, element2, ..., elementN)<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述：<code>push()</code>方法将一个或多个元素添加到数组的末尾；</li><li>函数参数：一个或多个元素；</li><li>返回值：返回该数组的新长度<code>length</code>；</li><li>是否改变原数组：改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.push(<span class="hljs-string">&#x27;D&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 4</span><br><br>result = arr.push(<span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27;, &#x27;F&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 6</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/8a26223e401841ea8fc73f60161744e5.png" srcset="/img/loading.gif" lazyload alt=""></p><h2 id="22-pop"><a class="markdownIt-Anchor" href="#22-pop"></a> 2.2 <code>pop()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> deletedValue = arr.pop()<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述：<code>pop()</code>方法从数组中删除最后一个元素；</li><li>函数参数：无参数；</li><li>返回值：返回被删除的最后一个元素的值；</li><li>是否改变原数组：改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.pop()<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// C</span><br><br>result = arr.pop()<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;A&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// B</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/c5e94c88d3424ff2926705df0f7e226b.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="3-队列方法"><a class="markdownIt-Anchor" href="#3-队列方法"></a> 3 队列方法</h1><p>队列是一种先进先出的数据结构，JavaScript中的数组通过<code>push()</code>和<code>shift()</code>两个方法实现入队和出队的操作。其中<code>push()</code>方法请参阅2.1节，本章节主要讲解<code>shift()</code>及其逆向方法<code>unshift()</code>。</p><h2 id="31-shift"><a class="markdownIt-Anchor" href="#31-shift"></a> 3.1 <code>shift()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> deletedValue = arr.shift()<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述：<code>shift()</code>方法从数组中删除第一个元素；</li><li>函数参数：无参数；</li><li>返回值：返回被删除的第一个元素的值；</li><li>是否改变原数组：改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.shift()<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;B&#x27;, &#x27;C&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// A</span><br><br>result = arr.shift()<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;C&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// B</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/c375a3bb92474aaeb1998d870cf15bd0.png" srcset="/img/loading.gif" lazyload alt=""></p><h2 id="32-unshift"><a class="markdownIt-Anchor" href="#32-unshift"></a> 3.2 <code>unshift()</code></h2><p><code>unshift()</code>方法说明如下：</p><ul><li>功能描述：<code>unshift()</code>方法将一个或多个元素添加到数组的开头；</li><li>函数参数：一个或多个元素；</li><li>返回值：返回该数组的新长度<code>newLength</code>；</li><li>是否改变原数组：改变原数组。</li></ul><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newLength = arr.unshift(element1, element2, ..., elementN)<br></code></pre></div></td></tr></table></figure><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.unshift(<span class="hljs-string">&#x27;D&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;D&#x27;, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 4</span><br><br>result = arr.unshift(<span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;E&#x27;, &#x27;F&#x27;, &#x27;D&#x27;, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 6</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/8cdc6e07c1794ccc85fe929f2d7d9a7a.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="4-排序方法"><a class="markdownIt-Anchor" href="#4-排序方法"></a> 4 排序方法</h1><p>JavaScript中的数组提供自定义规则排序<code>sort()</code>方法和根据下标逆置数组<code>reverse()</code>方法。</p><h2 id="41-sort"><a class="markdownIt-Anchor" href="#41-sort"></a> 4.1 <code>sort()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> sortedArray = arr.sort([compareFunction]) <span class="hljs-comment">// compareFunction是可选的</span><br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述：<code>sort()</code>方法将数字元素按照字符串，然后依次比较其Unicode值（由小到大排序）；</li><li>函数参数：【可选】指定排序比较的函数<code>compareFunction</code>；</li><li>返回值：返回排序后的新数组；</li><li>是否改变原数组：改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>]<br><br>arr.sort()<br><span class="hljs-built_in">console</span>.log(arr); <span class="hljs-comment">// [ 1, 2, 3, 4, 5, 6 ]</span><br></code></pre></div></td></tr></table></figure><p>显而易见，上面代码的运行结果是符合预期的，下面再举一个例子：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">32</span>, <span class="hljs-number">4</span>, <span class="hljs-number">25</span>]<br><br>arr.sort()<br><span class="hljs-built_in">console</span>.log(arr); <span class="hljs-comment">// [ 16, 2, 25, 32, 4 ]</span><br></code></pre></div></td></tr></table></figure><p>最后输出的结果为<code>[ 16, 2, 25, 32, 4 ]</code>，这显然是不符合预期的，造成这种情况的原因是当不指定<code>compareFunction</code>比较函数时，默认采用的是比较字符串Unicode值的形式，在进行字符串比较时，依次比较字符串各个位置的值，由于字符串<code>'1'</code>的Unicode值比字符串<code>'2'</code>的Unicode值小，所以数组<code>arr</code>中的元素<code>16</code>会排在元素<code>2</code>和元素<code>4</code>之前，其他元素同理。</p><p>要解决这个问题，需要明确指定<code>compareFunction</code>比较函数，该函数的完全表达形式为<code>compareFunction(a, b)</code>，其中参数<code>a</code>和参数<code>b</code>表示将要比较的两个元素，<code>compareFunction(a, b)</code>的返回值共有如下三种情况，决定着排序的结果：</p><ol><li>小于<code>0</code>：<code>a</code>会排序在<code>b</code>之前；</li><li>等于<code>0</code>：<code>a</code>和<code>b</code>的相对位置不变；</li><li>大于<code>0</code>：<code>a</code>会排序在<code>b</code>之后。</li></ol><p>下面举个具体的例子，以升序排序为例，由于排序要求为升序排列，那么较小的数应该排在前面，即当<code>a</code>和<code>b</code>进行比较时，若<code>a</code>比<code>b</code>的值小，那么应该返回一个小于<code>0</code>的数；当<code>a</code>比<code>b</code>的值大时，应该返回一个大于<code>0</code>的数；根据以上分析，需要的<code>compareFunction</code>比较函数如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareFunction</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (a &lt; b) &#123;<br>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>  &#125;<br>  <span class="hljs-keyword">if</span> (a &gt; b) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 简写为</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareFunction</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> a - b<br>&#125;<br><br><span class="hljs-comment">// 箭头函数简写为</span><br>(a, b) =&gt; a - b<br></code></pre></div></td></tr></table></figure><p>最终修改后的代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">32</span>, <span class="hljs-number">4</span>, <span class="hljs-number">25</span>]<br><br>arr.sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b)<br><span class="hljs-built_in">console</span>.log(arr); <span class="hljs-comment">// [ 2, 4, 16, 25, 32 ]</span><br></code></pre></div></td></tr></table></figure><p>此时的输出结果是符合预期的。</p><blockquote><p>注：若要实现降序排序的效果，只需要将<code>compareFunction</code>参数改为<code>(a, b) =&gt; b - a</code>即可。</p></blockquote><h2 id="42-reverse"><a class="markdownIt-Anchor" href="#42-reverse"></a> 4.2 <code>reverse()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">arr.reverse()<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述：<code>reverse()</code>方法将数组中元素的位置按下标逆置；</li><li>函数参数：无参数；</li><li>返回值：返回逆置后的新数组；</li><li>是否改变原数组：改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br>arr.reverse()<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;C&#x27;, &#x27;B&#x27;, &#x27;A&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/861b036ecc6440d7ba7a7ecd7db20cf7.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="5-截取与合并方法"><a class="markdownIt-Anchor" href="#5-截取与合并方法"></a> 5 截取与合并方法</h1><p>JavaScript中提供了<code>slice()</code>方法用于实现给定区间元素的提取，还提供了<code>contact()</code>方法用于给定数组或元素的合并。</p><h2 id="51-slice"><a class="markdownIt-Anchor" href="#51-slice"></a> 5.1 <code>slice()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newArray = arr.slice([begin[, end]])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述：<code>slice()</code>方法将截取数组中固定区间中的元素；</li><li>函数参数：<ul><li>【可选】<code>begin</code>：截取下标的起始位置，闭区间，包括该下标；默认值为<code>0</code>，<code>begin</code>值不可大于数组长度，否则返回空数组；</li><li>【可选】<code>end</code>：截取下标的终点位置，开区间，不包括该下标；默认为截取到数组末尾，<code>end</code>值若大于数组长度，则会截取到数组末尾。</li></ul></li><li>返回值：返回截取后的新数组；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.slice()<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27; ]</span><br><br><span class="hljs-keyword">let</span> result = arr.slice(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/da7d8f62f26749129b45055c4d42942a.png" srcset="/img/loading.gif" lazyload alt=""><br><code>slice()</code>方法的<code>begin</code>和<code>end</code>两个参数可以为负数：</p><ul><li><code>begin</code>为负数时，则表示从原数组中的倒数第几个元素开始提取，<code>slice(-2)</code>表示提取原数组中的倒数第二个元素到最后一个元素（包含最后一个元素）。</li><li><code>end</code>为负数时，则表示在原数组中的倒数第几个元素结束抽取。 <code>slice(-2, -1)</code>表示抽取了原数组中的倒数第二个元素到最后一个元素（不包含最后一个元素，也就是只有倒数第二个元素）。</li></ul><p>下面举个例子：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.slice(-<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;D&#x27; ]</span><br><br>result = arr.slice(-<span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/097ae0aecbc24eaab5703c9213bd1f4c.png" srcset="/img/loading.gif" lazyload alt=""></p><h2 id="52-contact"><a class="markdownIt-Anchor" href="#52-contact"></a> 5.2 <code>contact()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newArray = arr.concat(value1[, value2[, ...[, valueN]]])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>concat()</code>方法用于合并两个或多个元素；</li><li>函数参数：两个或多个元素；</li><li>返回值：返回合并后的新数组；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.concat(<span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>需要注意的是，<code>concat()</code>方法会将传入的数组参数做一次扁平化处理，如下面代码：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.concat([<span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, [<span class="hljs-string">&#x27;F&#x27;</span>]])<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27;, [ &#x27;F&#x27; ] ]</span><br></code></pre></div></td></tr></table></figure><h1 id="6-splice方法"><a class="markdownIt-Anchor" href="#6-splice方法"></a> 6 <code>splice()</code>方法</h1><p><code>splice()</code>方法是JavaScript中数组最为强大的方法之一，可以调整参数实现删除、插入和替换元素操作。</p><h2 id="61-简介"><a class="markdownIt-Anchor" href="#61-简介"></a> 6.1 简介</h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> deletedItems = array.splice(start[, howmany[, item1[, item2[, ...]]]])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>splice()</code>方法用于在数组中进行删除、插入和替换操作；</li><li>函数参数：（<code>splice()</code>方法的参数较为复杂，下面小节详细讲解）；</li><li>返回值：返回被删除或替换的内容；</li><li>是否改变原数组：改变原数组。</li></ul><h2 id="62-参数"><a class="markdownIt-Anchor" href="#62-参数"></a> 6.2 参数</h2><p><code>splice()</code>方法的参数如下：</p><ul><li>【必须】<code>start</code>：操作的起始下标，规定删除、插入或替换元素的位置，使用负数可从数组结尾处规定位置。</li><li>【必须】<code>howmany</code>：要删除的元素个数。</li><li>【可选】<code>item1, ..., itemx</code>：要插入或替换的元素。</li></ul><p>上面三种参数进行不同搭配可以实现删除、插入和替换三种操作。</p><h2 id="63-删除元素操作"><a class="markdownIt-Anchor" href="#63-删除元素操作"></a> 6.3 删除元素操作</h2><p>使用<code>splice()</code>方法进行删除元素操作的特征是只提供两个参数：</p><ul><li><code>start</code>：要删除元素的起始下标；</li><li><code>howmany</code>：要删除元素的个数。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.splice(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(arr); <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;E&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中，指定从下标<code>1</code>开始删除三个元素，返回被删除的元素<code>[ 'B', 'C', 'D' ]</code>，删除后原数组<code>arr</code>为<code>[ 'A', 'E' ]</code>。</p><h2 id="64-插入元素操作"><a class="markdownIt-Anchor" href="#64-插入元素操作"></a> 6.4 插入元素操作</h2><p>使用<code>splice()</code>方法进行插入元素操作的特征是提供三个参数，且第二个参数必须是<code>0</code>：</p><ul><li><code>start</code>：要插入元素的起始下标；</li><li><code>howmany</code>：要删除元素的个数，既然是替换，则不删除原数组的任何元素，所以是<code>0</code>。</li><li><code>item1, ..., itemx</code>：要插入的元素。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.splice(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr); <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;D&#x27;, &#x27;E&#x27;, &#x27;B&#x27;, &#x27;C&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// []</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中，指定从下标<code>1</code>开始插入元素，不删除原数组的元素，插入元素<code>'D', 'E'</code>，由于没有删除或替换元素，所以返回值为空数组<code>[]</code>，插入元素后的原数组<code>arr</code>为<code>[ 'A', 'D', 'E', 'B', 'C' ]</code>。</p><h2 id="65-替换元素操作"><a class="markdownIt-Anchor" href="#65-替换元素操作"></a> 6.5 替换元素操作</h2><p>使用<code>splice()</code>方法进行插入元素操作的特征是提供三个参数，且第二个参数不为<code>0</code>，为要替换元素的个数：</p><ul><li><code>start</code>：要替换元素的起始下标；</li><li><code>howmany</code>：要替换元素的个数。</li><li><code>item1, ..., itemx</code>：要插入的元素。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.splice(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(arr); <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;D&#x27;, &#x27;E&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;B&#x27;, &#x27;C&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中，指定从下标<code>1</code>开始替换元素，共替换<code>2</code>个元素，并将其替换为<code>'D', 'E'</code>，最后返回被删除（替换）的元素<code>[ 'B', 'C' ]</code>，替换元素后的原数组<code>arr</code>为<code>[ 'A', 'D', 'E' ]</code>。</p><h1 id="7-填充与复制方法"><a class="markdownIt-Anchor" href="#7-填充与复制方法"></a> 7 填充与复制方法</h1><p>在ES6标准中新增了两个方法用于数组的填充和复制，即<code>fill()</code>方法和<code>copyWithin()</code>。</p><h2 id="71-fill"><a class="markdownIt-Anchor" href="#71-fill"></a> 7.1 <code>fill()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> filledArray = arr.fill(value[, start[, end]])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>fill()</code>方法用一个固定值填充一个数组中从起始下标到终止下标内的全部元素。不包括终止下标；</li><li>函数参数：若不提供<code>start</code>和<code>end</code>，则填充全部元素，若只提供<code>start</code>则填充到数组末尾：<ul><li>【必选】<code>value</code>：指定用来填充的固定值；</li><li>【可选】<code>start</code>：进行填充的起始下标，闭区间，包括该下标；</li><li>【可选】<code>end</code>：进行填充的终止下标，开区间，不包括该下标；</li></ul></li><li>返回值：返回填充后的数组；</li><li>是否改变原数组：改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><br><span class="hljs-keyword">let</span> result = arr.fill(<span class="hljs-string">&#x27;@&#x27;</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27;, &#x27;@&#x27;, &#x27;@&#x27;, &#x27;E&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/63a7bd4875b142f7933beef506685d7b.png" srcset="/img/loading.gif" lazyload alt=""></p><h2 id="72-copywithin"><a class="markdownIt-Anchor" href="#72-copywithin"></a> 7.2 <code>copyWithin()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> copiedArray = arr.copyWithin(target[, start[, end]])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>copyWithin()</code>方法浅复制数组的一部分到同一数组中的另一个位置；</li><li>函数参数：若不提供<code>start</code>和<code>end</code>，则从<code>target</code>开始复制后续全部元素，若只提供<code>start</code>则复制到数组末尾：<ul><li>【必选】<code>target</code>：指定放置的目标位置；</li><li>【可选】<code>start</code>：进行复制的起始下标，闭区间，包括该下标；</li><li>【可选】<code>end</code>：进行复制的终止下标，开区间，不包括该下标；</li></ul></li><li>返回值：返回复制后的数组；</li><li>是否改变原数组：改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.copyWithin(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(arr) <span class="hljs-comment">// [ &#x27;B&#x27;, &#x27;C&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27; ]</span><br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;B&#x27;, &#x27;C&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/9570b667c69a44909451d44cdbb5d67b.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="8-查找方法"><a class="markdownIt-Anchor" href="#8-查找方法"></a> 8 查找方法</h1><p>JavaScript中数组的查找方法有很多：<code>indexOf()</code>、<code>lastIndexOf()</code>、<code>find()</code>、<code>findIndex()</code>和<code>includes()</code>。其中<code>find()</code>、<code>findIndex()</code>是ES6新增的方法；<code>includes()</code>是ES7新增的方法。</p><h2 id="81-indexof"><a class="markdownIt-Anchor" href="#81-indexof"></a> 8.1 <code>indexOf()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> index = arr.indexOf(searchElement[, fromIndex])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>indexOf()</code>方法返回在数组中正序可以找到一个给定元素的第一个下标；</li><li>函数参数：<ul><li>【必选】<code>searchElement</code>：指定要查找的元素；</li><li>【可选】<code>fromIndex</code>：指定开始查找的下标，若该参数为负数，则从数组末尾开始倒数；</li></ul></li><li>返回值：返回首个被找到的元素在数组中的下标，如果不存在，则返回<code>-1</code>；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.indexOf(<span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 2</span><br><br>result = arr.indexOf(<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// -1</span><br></code></pre></div></td></tr></table></figure><p>第一次查找<code>arr.indexOf('C')</code>返回<code>2</code>这个容易理解，第二次查找<code>arr.indexOf('C', 3)</code>由于指定了从下标<code>3</code>开始查找，即从数组元素<code>D</code>开始向后查找，显然后面是没有<code>C</code>元素，所以返回<code>-1</code>。</p><h2 id="82-lastindexof"><a class="markdownIt-Anchor" href="#82-lastindexof"></a> 8.2 <code>lastIndexOf()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> index = arr.lastIndexOf(searchElement[, fromIndex])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>lastIndexOf()</code>方法返回在数组中倒序可以找到一个给定元素的第一个下标；</li><li>函数参数：<ul><li>【必选】<code>searchElement</code>：指定要查找的元素；</li><li>【可选】<code>fromIndex</code>：指定开始查找的下标，若该参数为负数，则从数组末尾开始倒数；</li></ul></li><li>返回值：返回首个被找到的元素在数组中的下标，如果不存在，则返回<code>-1</code>；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.lastIndexOf(<span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 2</span><br><br>result = arr.lastIndexOf(<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 2</span><br></code></pre></div></td></tr></table></figure><p>第一次查找<code>arr.lastIndexOf('C')</code>返回<code>2</code>这个容易理解，第二次查找<code>arr.lastIndexOf('C', 3)</code>由于指定了从下标<code>3</code>开始倒序查找，即从数组元素<code>D</code>开始向前查找，元素<code>D</code>之前是有<code>C</code>元素的，所以返回<code>2</code>。</p><h2 id="83-find"><a class="markdownIt-Anchor" href="#83-find"></a> 8.3 <code>find()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> item = arr.find(callback[, thisArg])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>find()</code>方法返回数组中满足提供的测试函数的第一个元素的值；</li><li>函数参数：<ul><li>【必选】<code>callback()</code>：在数组每一项上执行的函数，<code>find()</code>方法会对数组中的每个元素都执行一次<code>callback()</code>方法，直到有一个元素返回<code>true</code>，<code>callback()</code>有一个必选参数<code>item</code>，表示当前元素；还有两个可选参数<code>index</code>表示当前下标，<code>array</code>表示当前数组本身；</li><li>【可选】<code>thisArg</code>：执行回调时用作<code>this</code>的对象。</li></ul></li><li>返回值：数组中第一个满足所提供测试函数的元素的值，否则返回<code>undefined</code>；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.find(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item === <span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// C</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中提供的<code>callback()</code>方法为<code>item =&gt; item === 'C'</code>，<code>find()</code>方法会对每一个元素都执行该函数判断，直到遇到返回满足<code>item === 'C'</code>的元素，所以最后返回<code>C</code>。</p><h2 id="84-findindex"><a class="markdownIt-Anchor" href="#84-findindex"></a> 8.4 <code>findIndex()</code></h2><blockquote><p>若读者已经掌握<code>find()</code>的使用方法，那么<code>findIndex()</code>与<code>find()</code>的区别只有返回值的区别，<code>find()</code>返回的是匹配的元素，而<code>findIndex()</code>返回的是匹配的元素的下标。</p></blockquote><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> index = arr.findIndex(callback[, thisArg])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>findIndex()</code>方法返回数组中满足提供的测试函数的第一个元素的下标；</li><li>函数参数：<ul><li>【必选】<code>callback()</code>：在数组每一项上执行的函数，<code>find()</code>方法会对数组中的每个元素都执行一次<code>callback()</code>方法，直到有一个元素返回<code>true</code>，<code>callback()</code>有一个必选参数<code>item</code>，表示当前元素；还有两个可选参数<code>index</code>表示当前下标，<code>array</code>表示当前数组本身；</li><li>【可选】<code>thisArg</code>：执行回调时用作<code>this</code>的对象。</li></ul></li><li>返回值：数组中第一个满足所提供测试函数的元素的下标，否则返回<code>-1</code>；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.findIndex(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item === <span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 2</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中，元素<code>C</code>与<code>item =&gt; item === 'C'</code>匹配，返回元素<code>C</code>的下标<code>2</code>。</p><h2 id="85-includes"><a class="markdownIt-Anchor" href="#85-includes"></a> 8.5 <code>includes()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> isIncludes = arr.includes(valueToFind[, fromIndex])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>includes()</code>方法用来判断一个数组是否包含一个指定的值；</li><li>函数参数：<ul><li>【必选】<code>valueToFind</code>：指定要查找的元素；</li><li>【可选】<code>fromIndex</code>：指定开始查找的下标，若该参数为负数，则从数组末尾开始倒数；</li></ul></li><li>返回值：如果包含则返回<code>true</code>，否则返回<code>false</code>；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.includes(<span class="hljs-string">&#x27;C&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// true</span><br><br>result = arr.includes(<span class="hljs-string">&#x27;F&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// false</span><br></code></pre></div></td></tr></table></figure><h1 id="9-转换方法"><a class="markdownIt-Anchor" href="#9-转换方法"></a> 9 转换方法</h1><p>数组的转换方法主要有四个：<code>toLocaleString()</code>、<code>toString()</code>、<code>valueOf()</code>、<code>join()</code>。其中<code>toLocaleString()</code>、<code>toString()</code>、<code>valueOf()</code>属于<code>Object</code>原型上的方法；而<code>join()</code>方法时数组转字符串的方法。</p><h2 id="91-tostring"><a class="markdownIt-Anchor" href="#91-tostring"></a> 9.1 <code>toString()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = arr.toString()<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>toString()</code>方法返回的是由数组中每个值的字符串拼接而成的一个逗号分隔的字符串；</li><li>函数参数：无参数；</li><li>返回值：数组元素拼接而成的字符串；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.toString()<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// A,B,C,D,E</span><br></code></pre></div></td></tr></table></figure><h2 id="92-tolocalestring"><a class="markdownIt-Anchor" href="#92-tolocalestring"></a> 9.2 <code>toLocaleString()</code></h2><p><code>toString()</code>和<code>toLocaleString()</code>在大多数情况下的使用是相同的，但有两点需要注意：</p><ol><li>当数组元素有数字且数字长度大于等于四位时，<code>toLocaleString()</code>会添加千位分割逗号：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1234</span>]<br><br><span class="hljs-keyword">let</span> result = arr.toLocaleString()<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 1,234</span><br></code></pre></div></td></tr></table></figure><ol start="2"><li>当数组元素有日期元素时，<code>toLocaleString()</code>会将其转换为本地时间表示法：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()]<br><br><span class="hljs-keyword">let</span> result = arr.toLocaleString()<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 2022/3/24下午8:48:42</span><br></code></pre></div></td></tr></table></figure><h2 id="93-valueof"><a class="markdownIt-Anchor" href="#93-valueof"></a> 9.3 <code>valueOf()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> value = arr.valueOf()<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>valueOf()</code>方法返回的是数组本身；</li><li>函数参数：无参数；</li><li>返回值：数组本身；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.valueOf()<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27; ]</span><br></code></pre></div></td></tr></table></figure><h2 id="94-join"><a class="markdownIt-Anchor" href="#94-join"></a> 9.4 <code>join()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = arr.join([separator])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>join()</code>方法返回所有元素连接成一个字符串（数组转字符串的方法）；</li><li>函数参数：【可选】<code>separator</code>分隔符，用于指定每个元素之间的分隔符，默认值为逗号<code>,</code>；</li><li>返回值：连接成的字符串；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]<br><br><span class="hljs-keyword">let</span> result = arr.join()<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// A,B,C,D,E</span><br><br>result = arr.join(<span class="hljs-string">&#x27;@&#x27;</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// A@B@C@D@E</span><br></code></pre></div></td></tr></table></figure><h1 id="10-并归方法"><a class="markdownIt-Anchor" href="#10-并归方法"></a> 10 并归方法</h1><p>JavaScript为数组提供了两个归并方法：<code>reduce()</code>和<code>reduceRight()</code>，两者用法几乎相同，只是元素执行的顺序不同。</p><h2 id="101-reduce"><a class="markdownIt-Anchor" href="#101-reduce"></a> 10.1 <code>reduce()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newValue = reduce(<span class="hljs-function">(<span class="hljs-params">previousValue, currentValue, currentIndex, array</span>) =&gt;</span> &#123; <span class="hljs-comment">/* ... */</span> &#125;, initialValue)<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>reduce()</code>方法正序对数组中的每个元素执行一个<code>reducer</code>函数，每一次运行<code>reducer</code>函数会将先前元素的计算结果作为参数传入，最后将其结果汇总为单个返回值；</li><li>函数参数：<ul><li>【必选】<code>reducer()</code>函数，该函数的参数较为复杂，后文会详细介绍；</li><li>【可选】<code>initialValue</code>初始值，后文会举例说明该参数的作用。</li></ul></li><li>返回值：单个汇总值；</li><li>是否改变原数组：不改变原数组。</li></ul><p><code>reducer()</code>函数的参数：</p><ul><li><code>previousValue</code>：上一次调用<code>reducer()</code>时的返回值。在第一次调用时，若指定了初始值<code>initialValue</code>，其值则为<code>initialValue</code>，否则为数组索引为<code>0</code>的元素<code>array[0]</code>。</li><li><code>currentValue</code>：数组中正在处理的元素。在第一次调用时，若指定了初始值<code>initialValue</code>，其值则为数组索引为<code>0</code>的元素<code>array[0]</code>，否则为<code>array[1]</code>。</li><li><code>currentIndex</code>：数组中正在处理的元素的索引。若指定了初始值<code>initialValue</code>，则起始索引号为<code>0</code>，否则从索引<code>1</code>起始。</li><li><code>array</code>：当前用于遍历的数组。</li></ul><p>由于是否指定<code>initialValue</code>参数对执行过程有一定影响，下面将分两种情况讲解：</p><ol><li>无<code>initialValue</code>参数</li></ol><p>示例如下，以一个求数组各个元素的累积和为例：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-keyword">let</span> result = arr.reduce(<span class="hljs-function">(<span class="hljs-params">previousValue, currentValue, currentIndex, array</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(previousValue, currentValue, currentIndex)<br>  <span class="hljs-keyword">return</span> previousValue + currentValue<br>&#125;)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 10</span><br><br><span class="hljs-comment">// console.log(previousValue, currentValue, currentIndex)</span><br><span class="hljs-comment">// 1 2 1</span><br><span class="hljs-comment">// 3 3 2</span><br><span class="hljs-comment">// 6 4 3</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中，可见<code>console.log(previousValue, currentValue, currentIndex)</code>输出了三次，说明<code>reducer()</code>函数被执行了三次，流程如下图所示：<br><img src="https://img-blog.csdnimg.cn/ef75fe0aef144964ae23115195456604.png" srcset="/img/loading.gif" lazyload alt=""><br>不难发现，上一次<code>reducer</code>函数返回的<code>previousValue + currentValue</code>为下一次<code>reducer</code>函数的<code>previousValue</code>参数。</p><ol start="2"><li>有<code>initialValue</code>参数</li></ol><p>同样以求和为例，添加<code>initialValue</code>参数为<code>5</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-keyword">let</span> result = arr.reduce(<span class="hljs-function">(<span class="hljs-params">previousValue, currentValue, currentIndex, array</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(previousValue, currentValue, currentIndex)<br>  <span class="hljs-keyword">return</span> previousValue + currentValue<br>&#125;, <span class="hljs-number">5</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 15</span><br><br><span class="hljs-comment">// console.log(previousValue, currentValue, currentIndex)</span><br><span class="hljs-comment">// 5 1 0</span><br><span class="hljs-comment">// 6 2 1</span><br><span class="hljs-comment">// 8 3 2</span><br><span class="hljs-comment">// 11 4 3</span><br></code></pre></div></td></tr></table></figure><p>可以发现<code>console.log(previousValue, currentValue, currentIndex)</code>输出了四次，说明<code>reducer</code>函数被执行了四次，流程如下图所示：<br><img src="https://img-blog.csdnimg.cn/af9240b22b9f41bca404e800f2c8ff06.png" srcset="/img/loading.gif" lazyload alt=""><br>可以发现，第一次执行<code>reducer</code>函数的<code>previousValue</code>参数不是数组的第一个元素<code>array[0]</code>，而是指定的<code>initialValue</code>值。</p><p>总结来说：如果没有提供<code>initialValue</code>，<code>reduce</code>函数会从索引<code>1</code>的地方开始执行。如果提供了<code>initialValue</code>，从索引<code>0</code>开始。</p><h2 id="102-reduceright"><a class="markdownIt-Anchor" href="#102-reduceright"></a> 10.2 <code>reduceRight()</code></h2><p><code>reduceRight()</code>方法和的上面的<code>reduce()</code>用法几乎相同，只是该方法是对数组进行倒序执行。而<code>reduce()</code>方法是正序执行的。</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-keyword">let</span> result = arr.reduceRight(<span class="hljs-function">(<span class="hljs-params">previousValue, currentValue, currentIndex, array</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(previousValue, currentValue, currentIndex)<br>  <span class="hljs-keyword">return</span> previousValue + currentValue<br>&#125;)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 10</span><br><br><span class="hljs-comment">// console.log(previousValue, currentValue, currentIndex)</span><br><span class="hljs-comment">// 4 3 2</span><br><span class="hljs-comment">// 7 2 1</span><br><span class="hljs-comment">// 9 1 0</span><br></code></pre></div></td></tr></table></figure><p>图解如下：<br><img src="https://img-blog.csdnimg.cn/dff87124480c4ef3b858c3d0e9e69453.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="11-迭代器方法"><a class="markdownIt-Anchor" href="#11-迭代器方法"></a> 11 迭代器方法</h1><blockquote><p>可参阅<a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/iterator">Iterator 和 for…of 循环</a></p></blockquote><p>在ES6中提供了三个用于遍历数组的方法：<code>keys()</code>、<code>values()</code>、<code>entries()</code>，它们都返回一个迭代器对象，可以使用<code>for...of</code>进行遍历。</p><h2 id="111-keys"><a class="markdownIt-Anchor" href="#111-keys"></a> 11.1 <code>keys()</code></h2><p><code>keys()</code>方法返回数组下标的迭代器，无参数，不改变原数组，示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><span class="hljs-keyword">let</span> result = arr.keys()<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> result) <span class="hljs-comment">// object</span><br><span class="hljs-keyword">for</span> (item <span class="hljs-keyword">of</span> result) &#123;<br>  <span class="hljs-built_in">console</span>.log(item)<br>&#125;<br><br><span class="hljs-comment">// console.log(item)</span><br><span class="hljs-comment">// 0</span><br><span class="hljs-comment">// 1</span><br><span class="hljs-comment">// 2</span><br></code></pre></div></td></tr></table></figure><h2 id="112-values"><a class="markdownIt-Anchor" href="#112-values"></a> 11.2 <code>values()</code></h2><p><code>values()</code>方法返回数组元素的迭代器，无参数，不改变原数组，示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><span class="hljs-keyword">let</span> result = arr.values()<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> result) <span class="hljs-comment">// object</span><br><span class="hljs-keyword">for</span> (item <span class="hljs-keyword">of</span> result) &#123;<br>  <span class="hljs-built_in">console</span>.log(item)<br>&#125;<br><br><span class="hljs-comment">// console.log(item)</span><br><span class="hljs-comment">// A</span><br><span class="hljs-comment">// B</span><br><span class="hljs-comment">// C</span><br></code></pre></div></td></tr></table></figure><h2 id="113-entries"><a class="markdownIt-Anchor" href="#113-entries"></a> 11.3 <code>entries()</code></h2><p><code>entries()</code>方法返回索引值对的迭代器，无参数，不改变原数组，示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><span class="hljs-keyword">let</span> result = arr.entries()<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> result) <span class="hljs-comment">// object</span><br><span class="hljs-keyword">for</span> (item <span class="hljs-keyword">of</span> result) &#123;<br>  <span class="hljs-built_in">console</span>.log(item)<br>&#125;<br><br><span class="hljs-comment">// console.log(item)</span><br><span class="hljs-comment">// [ 0, &#x27;A&#x27; ]</span><br><span class="hljs-comment">// [ 1, &#x27;B&#x27; ]</span><br><span class="hljs-comment">// [ 2, &#x27;C&#x27; ]</span><br></code></pre></div></td></tr></table></figure><h1 id="12-迭代方法"><a class="markdownIt-Anchor" href="#12-迭代方法"></a> 12 迭代方法</h1><p>JavaScript中为数组提供了5个迭代方法，分别是<code>every()</code>、<code>filter()</code>、<code>forEach()</code>、<code>map()</code>、<code>some()</code>。</p><h2 id="121-foreach"><a class="markdownIt-Anchor" href="#121-foreach"></a> 12.1 <code>forEach()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">arr.forEach(callback(currentValue [, index [, array]])[, thisArg])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>forEach</code> 方法对数组的每个元素执行一次给定的函数；</li><li>函数参数：<ul><li>【必选】<code>callback()</code>：用于每个元素执行的回调函数；</li><li>【可选】<code>thisArg</code>：当执行回调函数<code>callback</code>时，用作<code>this</code>的值。</li></ul></li><li>返回值：无返回值；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br>arr.forEach(<span class="hljs-function">(<span class="hljs-params">item, index, arr</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(item, index)<br>&#125;)<br><br><span class="hljs-comment">// console.log(item, index)</span><br><span class="hljs-comment">// A 0</span><br><span class="hljs-comment">// B 1</span><br><span class="hljs-comment">// C 2</span><br></code></pre></div></td></tr></table></figure><p>该方法还可以有第二个参数<code>thisArg</code>，用来绑定回调函数内部<code>this</code>变量（此时<code>callback()</code>函数不能为箭头函数）：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<br><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>]<br>arr.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>[index])<br>&#125;, arr2)<br><br><span class="hljs-comment">// console.log(this[index])</span><br><span class="hljs-comment">// D</span><br><span class="hljs-comment">// E</span><br><span class="hljs-comment">// F</span><br></code></pre></div></td></tr></table></figure><h2 id="122-map"><a class="markdownIt-Anchor" href="#122-map"></a> 12.2 <code>map()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newArray = arr.map(callback(currentValue [, index [, array]])[, thisArg])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>map()</code>方法创建一个新数组，其结果是该数组中的每个元素是调用一次提供的函数后的返回值；</li><li>函数参数：<ul><li>【必选】<code>callback()</code>：用于每个元素执行的回调函数；</li><li>【可选】<code>thisArg</code>：当执行回调函数<code>callback</code>时，用作<code>this</code>的值。</li></ul></li><li>返回值：返回一个处理后的新数组；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下，下面例子将数组<code>arr</code>中的每个元素都乘以二：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">let</span> result = arr.map(<span class="hljs-function">(<span class="hljs-params">item, index, arr</span>) =&gt;</span> item * <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ 2, 4, 6 ]</span><br></code></pre></div></td></tr></table></figure><h2 id="123-filter"><a class="markdownIt-Anchor" href="#123-filter"></a> 12.3 <code>filter()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newArray = arr.filter(callback(element[, index[, array]])[, thisArg])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>filter()</code>方法创建一个新数组，其包含通过所提供函数实现的测试的所有元素 ；</li><li>函数参数：<ul><li>【必选】<code>callback()</code>：用于每个元素执行测试的回调函数；</li><li>【可选】<code>thisArg</code>：当执行回调函数<code>callback</code>时，用作<code>this</code>的值。</li></ul></li><li>返回值：一个新的、由通过测试的元素组成的数组，如果没有任何数组元素通过测试，则返回空数组。；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下，返回数组<code>arr</code>中所有大于<code>3</code>的元素组成的新数组：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-keyword">let</span> result = arr.filter(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &gt; <span class="hljs-number">3</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ 4, 5 ]</span><br></code></pre></div></td></tr></table></figure><h2 id="124-every"><a class="markdownIt-Anchor" href="#124-every"></a> 12.4 <code>every()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> isTested = arr.every(callback(element[, index[, array]])[, thisArg])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>every()</code>方法测试一个数组内的所有元素是否都能通过某个指定函数的测试；</li><li>函数参数：<ul><li>【必选】<code>callback()</code>：用于每个元素执行测试的回调函数；</li><li>【可选】<code>thisArg</code>：当执行回调函数<code>callback</code>时，用作<code>this</code>的值。</li></ul></li><li>返回值：当所有元素都通过测试返回<code>true</code>，否则返回<code>false</code>；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-keyword">let</span> result = arr.every(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &gt; <span class="hljs-number">0</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// true</span><br></code></pre></div></td></tr></table></figure><h2 id="125-some"><a class="markdownIt-Anchor" href="#125-some"></a> 12.5 <code>some()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> isTested = arr.some(callback(element[, index[, array]])[, thisArg])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>some()</code>方法测试数组中是不是至少有一个元素通过了被提供的函数测试；</li><li>函数参数：<ul><li>【必选】<code>callback()</code>：用于每个元素执行测试的回调函数；</li><li>【可选】<code>thisArg</code>：当执行回调函数<code>callback</code>时，用作<code>this</code>的值。</li></ul></li><li>返回值：只要有一个元素通过测试则返回<code>true</code>，否则返回<code>false</code>；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-keyword">let</span> result = arr.some(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &gt; <span class="hljs-number">5</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// false</span><br></code></pre></div></td></tr></table></figure><h1 id="13-扁平化方法"><a class="markdownIt-Anchor" href="#13-扁平化方法"></a> 13 扁平化方法</h1><p>扁平化是指将多维数组转换为一维数组，ES2019（ES10）中新增了<code>flat()</code>方法用于数组扁平化，除此之外还有<code>flatMap()</code>用于弥补<code>map()</code>方法的结果无法扁平化的缺陷。</p><h2 id="131-flat"><a class="markdownIt-Anchor" href="#131-flat"></a> 13.1 <code>flat()</code></h2><p>语法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> newArray = arr.flat([depth])<br></code></pre></div></td></tr></table></figure><p>方法说明如下：</p><ul><li>功能描述： <code>flat()</code>方法会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回；</li><li>函数参数：【可选】<code>depth</code>指定要提取嵌套数组的结构深度，默认值为<code>1</code>。</li><li>返回值：一个包含将数组与子数组中所有元素的新数组；</li><li>是否改变原数组：不改变原数组。</li></ul><p>示例如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, [<span class="hljs-number">5</span>]]]<br><span class="hljs-keyword">let</span> result = arr.flat()<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ 1, 2, 3, 4, [ 5 ] ]</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中，由于默认只扁平化一层，所以结果并没有完全扁平化，若要实现一个通用的扁平化方法，可以将参数<code>depth</code>设为<code>Infinity</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, [<span class="hljs-number">5</span>]]]<br><span class="hljs-keyword">let</span> result = arr.flat(<span class="hljs-literal">Infinity</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// [ 1, 2, 3, 4, 5 ]</span><br></code></pre></div></td></tr></table></figure><h2 id="132-flatmap"><a class="markdownIt-Anchor" href="#132-flatmap"></a> 13.2 <code>flatMap()</code></h2><p><code>flatMap()</code>方法是在<code>map()</code>方法的基础上，将结果进行一次扁平化操作，使用方法和<code>map()</code>完全一样，只是返回结果不一样。注意：<code>flatMap()</code>方法不能像<code>flat()</code>方法一样指定扁平化层数，<code>flatMap()</code>方法只能扁平化一层。<code>flatMap()</code>的应用场景在于某些情况下<code>map()</code>中的<code>callback()</code>方法可能会返回一个数组，那么最终<code>map()</code>方法返回的新数组是嵌套的数组，所以可以用<code>flatMap()</code>方法代替<code>map()</code>将结果扁平化，如下面例子：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;hello!&#x27;</span>,<span class="hljs-string">&#x27;my name is&#x27;</span>, <span class="hljs-string">&#x27;syz&#x27;</span>]<br><span class="hljs-keyword">let</span> resultMap = arr.map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.split(<span class="hljs-string">&quot; &quot;</span>))<br><span class="hljs-keyword">let</span> resultFlatMap = arr.flatMap(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.split(<span class="hljs-string">&quot; &quot;</span>))<br><span class="hljs-built_in">console</span>.log(resultMap) <span class="hljs-comment">// [ [ &#x27;hello!&#x27; ], [ &#x27;my&#x27;, &#x27;name&#x27;, &#x27;is&#x27; ], [ &#x27;syz&#x27; ] ]</span><br><span class="hljs-built_in">console</span>.log(resultFlatMap) <span class="hljs-comment">// [ &#x27;hello!&#x27;, &#x27;my&#x27;, &#x27;name&#x27;, &#x27;is&#x27;, &#x27;syz&#x27; ]</span><br></code></pre></div></td></tr></table></figure><p>在这个例子中，<code>map()</code>中的<code>callback()</code>方法将数组中的字符串使用空格拆分成数组，注意：这里就触发了扁平化条件，即<code>callback()</code>方法返回的就是一个数组，正如预期的结果一样，使用<code>map()</code>方法返回的结果是嵌套的数组，而使用<code>flatMap()</code>方法返回的数组会进行一次扁平化操作。</p></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E9%87%8D%E5%AD%A6JavaScript%E7%B3%BB%E5%88%97/">重学JavaScript系列</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/2022/03/23/this%E7%9A%84%E4%BA%94%E7%A7%8D%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F/"><span class="hidden-mobile">this的五种绑定方式</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/local-search.js"></script><script>$("#local-search-input").on("click",(function(){searchFunc("/local-search.xml","local-search-input","local-search-result")})),$("#modalSearch").on("shown.bs.modal",(function(){$("#local-search-input").focus()}))</script><script src="/js/boot.js"></script></body></html>