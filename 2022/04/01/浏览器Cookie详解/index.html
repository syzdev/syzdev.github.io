<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;light&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><link rel="icon" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="syz"><meta name="keywords" content=""><title>浏览器Cookie详解 - syzdev</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"yoursite.com",root:"/",version:"1.8.10",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:1},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:35vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>😄 syzdev</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://cdn.u1.huluxia.com/g3/M02/4D/6C/wKgBOV6fEU2AXFGSAAJ7A1Fp7rw147.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="浏览器Cookie详解"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-04-01 14:00" pubdate>2022年4月1日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 27 分钟</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">浏览器Cookie详解</h1><div class="markdown-body"><h1 id="1-cookie是什么"><a class="markdownIt-Anchor" href="#1-cookie是什么"></a> 1 <code>Cookie</code>是什么</h1><blockquote><p>参考：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies#%E5%AE%89%E5%85%A8">HTTP cookies - MDN</a></p></blockquote><p>HTTP Cookie（也叫 Web Cookie 或浏览器 Cookie）是服务器发送到用户浏览器并保存在本地的一小块数据（一般为4KB），它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器，如保持用户的登录状态。Cookie 使基于无状态的HTTP协议记录稳定的状态信息成为了可能。</p><h1 id="2-cookie产生的背景"><a class="markdownIt-Anchor" href="#2-cookie产生的背景"></a> 2 <code>Cookie</code>产生的背景</h1><p><code>Cookie</code>的诞生是为了弥补HTTP无状态的缺点，所谓无状态，是指HTTP协议不对每次请求保存相关信息，浏览器发送的每一次HTTP请求对于服务器来说都是一次新的请求，换句话来说就是服务器根本不知道浏览器上一次发送请求的目的及造成的结果。</p><h1 id="3-cookie的应用场景"><a class="markdownIt-Anchor" href="#3-cookie的应用场景"></a> 3 <code>Cookie</code>的应用场景</h1><ol><li>会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）；</li><li>个性化设置（如用户自定义设置、主题等）；</li><li>浏览器行为跟踪（如跟踪分析用户行为等）。</li></ol><h1 id="4-cookie的作用范围"><a class="markdownIt-Anchor" href="#4-cookie的作用范围"></a> 4 <code>Cookie</code>的作用范围</h1><p><code>Cookie</code>的作用范围指的是哪些域名下可以使用<code>Cookie</code>及其使用规则，<code>Cookie</code>的作用范围主要是靠域名来区分的，最显而易见的是不同域名下的<code>Cookie</code>是无法共享的，如<code>qq.com</code>和<code>baidu.com</code>中的<code>Cookie</code>是无法共享的。其他使用规则请阅读1.6.3节和1.6.4节，需要注意的是，区分<code>Cookie</code>作用范围时是不考虑协议和端口的，如<code>http://syzdev.cn</code>和<code>https://syzdev.cn:8088</code>两个域名是共享<code>Cookie</code>的。</p><h1 id="5-cookie的创建过程"><a class="markdownIt-Anchor" href="#5-cookie的创建过程"></a> 5 <code>Cookie</code>的创建过程</h1><p>浏览器发送HTTP请求给服务器，当服务器收到HTTP请求后，服务器可以在响应头里面添加一个<code>Set-Cookie</code>选项，在该选项中可以设置<code>Cookie</code>的相关属性，详见1.6节。浏览器收到响应后通常会保存该<code>Cookie</code>，之后每次浏览器对服务器发送请求都会携带该<code>Cookie</code>，整个过程如下图所示：<br><br><img src="https://img-blog.csdnimg.cn/85a0e05e9f604a6890f67c5607dd282c.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="6-cookie的创建方法"><a class="markdownIt-Anchor" href="#6-cookie的创建方法"></a> 6 <code>Cookie</code>的创建方法</h1><h2 id="61-服务器创建cookie"><a class="markdownIt-Anchor" href="#61-服务器创建cookie"></a> 6.1 服务器创建<code>Cookie</code></h2><p>客户端给服务器发送HTTP请求后，服务端可以在响应头中添加<code>Set-Cookie</code>选项，在选项中指定<code>Cookie</code>的相关选项。</p><h2 id="62-javascript创建cookie"><a class="markdownIt-Anchor" href="#62-javascript创建cookie"></a> 6.2 JavaScript创建<code>Cookie</code></h2><p><code>Cookie</code>信息保存在<code>document</code>对象上，可以直接使用<code>document.cookie</code>访问：</p><ol><li>创建<code>Cookie</code>：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">&quot;username=syzdev&quot;</span>;<br></code></pre></div></td></tr></table></figure><ol start="2"><li>查询<code>Cookie</code>：将以字符串的形式返回所有<code>Cookie</code>信息：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> cookieStr = <span class="hljs-built_in">document</span>.cookie; <span class="hljs-comment">// cookieStr是保存所有Cookie信息的字符串</span><br></code></pre></div></td></tr></table></figure><ol start="3"><li>修改<code>Cookie</code>：若要修改<code>Cookie</code>，则需要将原来的<code>Cookie</code>覆盖：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">&quot;username=syz&quot;</span>; <span class="hljs-comment">// 修改Cookie中的username信息</span><br></code></pre></div></td></tr></table></figure><ol start="4"><li>删除<code>Cookie</code>：将<code>expires</code>属性设置为过去的时间或当前的时间，则该<code>Cookie</code>会被自动删除：</li></ol><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// new Date().toUTCString()获取的就是UTC格式的当前时间</span><br><span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">`expires=<span class="hljs-subst">$&#123;<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toUTCString()&#125;</span>`</span>;<br></code></pre></div></td></tr></table></figure><h1 id="7-cookie的属性"><a class="markdownIt-Anchor" href="#7-cookie的属性"></a> 7 <code>Cookie</code>的属性</h1><p>下面说明<code>Cookie</code>属性的格式及表示方法：</p><ol><li>自定义属性</li></ol><p><code>Cookie</code>中的自定义属性是通过键值对的形式保存的，格式如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: key1=value1; key2=value2<br></code></pre></div></td></tr></table></figure><ol start="2"><li>自带属性</li></ol><p><code>Cookie</code>中的一些自带属性也是通过键值对的形式保存的，格式如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Expires=&lt;UTC Date&gt;; Max-Age=&lt;non-zero-digit&gt;<br></code></pre></div></td></tr></table></figure><p><code>Cookie</code>中的其他一些自带属性是通过属性名的形式保存的，格式如下：</p><h2 id="71-expires过期时间"><a class="markdownIt-Anchor" href="#71-expires过期时间"></a> 7.1 <code>Expires</code>（过期时间）</h2><p><code>Expires</code>属性需要指定一个UTC时间格式的字符串，在这个时间内<code>Cookie</code>有效，过了这个时间浏览器就会将这个<code>Cookie</code>删除，如下面例子：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Expires=Tue, <span class="hljs-number">22</span> Mar <span class="hljs-number">2022</span> <span class="hljs-number">14</span>:<span class="hljs-number">19</span>:<span class="hljs-number">00</span> GMT<br></code></pre></div></td></tr></table></figure><p>若不指定<code>Expires</code>属性，则<code>Cookie</code>只在当前浏览器会话中有效（即浏览器窗口关闭后，浏览器就会删除该<code>Cookie</code>）。</p><h2 id="72-max-age有效时间"><a class="markdownIt-Anchor" href="#72-max-age有效时间"></a> 7.2 <code>Max-Age</code>（有效时间）</h2><p><code>Max-Age</code>属性需要指定一个数字，表示该<code>Cookie</code>的有效时间，以秒为单位，可以理解为<code>Cookie</code>有效时间的倒计时，倒计时结束后，浏览器就会删除该<code>Cookie</code>，如下面例子表示<code>Cookie</code>有效时间为30分钟：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Max-Age=<span class="hljs-number">60</span>*<span class="hljs-number">30</span><br></code></pre></div></td></tr></table></figure><h2 id="73-domain域名"><a class="markdownIt-Anchor" href="#73-domain域名"></a> 7.3 <code>Domain</code>（域名）</h2><p><code>Domain</code>属性指定了哪些域名可以接收<code>Cookie</code>，若没有指定<code>Domain</code>属性，那么其默认值就是当前域名（不包含子域名），所以说指定<code>Domain</code>属性比不指定<code>Domain</code>属性的限制少。<code>Domain</code>属性的使用应遵循如下规则：</p><ol><li>设置<code>Domain</code>：只能是当前域名的上级域名，并且不能为顶级域名或公共域名，如当前域名为<code>s.y.z.qq.com</code>，可以设置<code>Domain</code>为<code>s.y.z.qq.com</code>、<code>y.z.qq.com</code>或<code>z.qq.com</code>；但不能是顶级域名<code>com</code>或公共子域名<code>qq.com</code>。</li><li>匹配<code>Domain</code>：浏览器在发送<code>Cookie</code>时，需要根据<code>Domain</code>属性判断是否需要在发送HTTP请求时携带<code>Cookie</code>，在匹配域名时，只能是和<code>Domain</code>相同的域名或是其子域名，如当前<code>Domain</code>为<code>z.qq.com</code>，那么可以匹配到<code>z.qq.com</code>、<code>y.z.qq.com</code>或<code>s.y.z.qq.com</code>。</li></ol><p><code>Domain</code>属性的使用方法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Domain=s.y.z.qq.com<br></code></pre></div></td></tr></table></figure><blockquote><p>需要注意的是：读者可能见过<code>Domain</code>中的域名中有前导点，如<code>Domain=.syzdev.cn</code>，这是浏览器不符合规范的情况，大多数浏览器是不需要加前导点的。</p></blockquote><h2 id="74-path路径"><a class="markdownIt-Anchor" href="#74-path路径"></a> 7.4 <code>Path</code>（路径）</h2><p><code>Path</code>属性指定了域名下哪些路径可以接收<code>Cookie</code>，这是在<code>Domain</code>域名已经匹配的情况下，再匹配<code>Path</code>路径，如<code>Path=/hello</code>，那么将匹配<code>/hello/s</code>、<code>/hello/s/y</code>或<code>/hello/s/y/z</code>。若不指定<code>Path</code>属性的值，则<code>Path</code>的默认值为请求路径，如请求路径为<code>syzdev.cn/hello</code>，那么<code>Path</code>属性的值就为<code>/hello</code>。<code>Path</code>属性的使用方法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Path=/hello<br></code></pre></div></td></tr></table></figure><h2 id="75-securehttps安全"><a class="markdownIt-Anchor" href="#75-securehttps安全"></a> 7.5 <code>Secure</code>（HTTPS安全）</h2><p><code>Secure</code>属性指定只有当前是在HTTPS协议下进行通信，才会在请求中携带<code>Cookie</code>，<code>Secure</code>属性的使用方法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Secure<br></code></pre></div></td></tr></table></figure><h2 id="76-httponly脚本安全"><a class="markdownIt-Anchor" href="#76-httponly脚本安全"></a> 7.6 <code>HttpOnly</code>（脚本安全）</h2><p><code>HttpOnly</code>属性禁止使用JavaScript脚本获取<code>Cookie</code>，该属性是缓解跨站脚本攻击（XSS）的方式之一，<code>HttpOnly</code>属性的使用方法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: HttpOnly<br></code></pre></div></td></tr></table></figure><p>添加该属性后，<code>document.cookie</code>就无法获取到<code>Cookie</code>值了。</p><h2 id="77-samesite禁止第三方cookie"><a class="markdownIt-Anchor" href="#77-samesite禁止第三方cookie"></a> 7.7 <code>SameSite</code>（禁止第三方Cookie）</h2><p><code>SameSite</code>属性用于限制第三方<code>Cookie</code>，该属性是缓解跨站请求伪造（CSRF）的方式之一：</p><blockquote><p><code>Cookie</code>被分为第一方<code>Cookie</code>和第三方<code>Cookie</code>，区分他们的方法是看建立该<code>Cookie</code>的域名，上文中所提到的都是第一方<code>Cookie</code>，第三方<code>Cookie</code>为别的域名所创建的<code>Cookie</code>，读者可能会疑惑在一个域名下为什么能创建第三方<code>Cookie</code>以及为什么要创建第三方<code>Cookie</code>：</p><ol><li>为什么要创建第三方<code>Cookie</code>：广告商或者服务提供商用于追踪用户行为进行个性化广告推荐，如某大型母购物公司旗下又有很多子公司，在用户浏览子公司的域名时，由于子公司的域名和母公司的域名不一样，所以母公司无法获取到子公司下的<code>Cookie</code>信息，因此使用第三方<code>Cookie</code>能够在各个子公司下收集用户数据，然后将数据提供给母公司，由母公司来追踪用户行为。</li><li>如何创建第三方<code>Cookie</code>：常见的方法是图像、脚本和<code>iframe</code>。</li></ol></blockquote><p>为了限制这种第三方<code>Cookie</code>收集数据的行为，所以有了<code>SameSite</code>属性，该属性有三个可选值：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: SameSite=Strict|Lax|Node;<br></code></pre></div></td></tr></table></figure><ol><li><code>Strict</code>：顾名思义，最为严格的限制，完全禁止使用第三方<code>Cookie</code>，跨域名访问时，禁止使用<code>Cookie</code>。</li><li><code>Lax</code>：只有在部分情况下才允许使用<code>Cookie</code>，如<code>&lt;a&gt;</code>标签、<code>&lt;link&gt;</code>标签和<code>get</code>提交表单。</li><li><code>None</code>：允许使用第三方<code>Cookie</code>。</li></ol><h2 id="78-namecookie名称"><a class="markdownIt-Anchor" href="#78-namecookie名称"></a> 7.8 <code>Name</code>（Cookie名称）</h2><p><code>Name</code>属性用于指定该<code>Cookie</code>的名称，使用方法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Name=cookieName;<br></code></pre></div></td></tr></table></figure><h2 id="79-valuecookie的值"><a class="markdownIt-Anchor" href="#79-valuecookie的值"></a> 7.9 <code>Value</code>（Cookie的值）</h2><p><code>Value</code>属性用于指定该<code>Cookie</code>的值，使用方法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-built_in">Set</span>-Cookie: Value=cookieValue;<br></code></pre></div></td></tr></table></figure><h1 id="8-cookie的优缺点"><a class="markdownIt-Anchor" href="#8-cookie的优缺点"></a> 8 <code>Cookie</code>的优缺点</h1><p><code>Cookie</code>的优点：</p><ol><li>用来弥补HTTP无状态特性的一种方案。</li><li>存储在客户端，不占用服务器的资源，减少服务器压力。</li></ol><p><code>Cookie</code>的缺点主要是安全和隐私方面：</p><ol><li>可以被用户主动禁用浏览器的<code>Cookie</code>功能，可以通过<code>window.navigator.cookieEnabled</code>属性查看当前浏览器<code>Cookie</code>是否开启。</li><li>可以被用户直接操作，<code>Cookie</code>保存在浏览器，并且是明文存储的，能够直接被用户查看、修改或删除。</li><li>若<code>Cookie</code>中含有关键敏感信息，可能会被不法分子通过跨站脚本攻击（XSS）、跨站请求伪造（CSRF）等手段获取到<code>Cookie</code>造成严重后果。</li></ol><p>关于<code>Cookie</code>的大小限制，不同的浏览器对于<code>Cookie</code>的策略不一样，对<code>Cookie</code>的数量和大小限制也不一样，一般浏览器限制每个域名下的<code>Cookie</code>数量不超过30个，每个<code>Cookie</code>的大小不超过4KB，若超过了4KB，内容将被截断，我个人认为这不能算是<code>Cookie</code>的缺点，只能说是<code>Cookie</code>的特性，因为<code>Cookie</code>的诞生并不是为了保存大量数据的，一般情况下4KB完全够用了。</p></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2022/04/02/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE%EF%BC%88%E5%9F%BA%E7%A1%80%E7%AF%87%EF%BC%89/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">原型与原型链（基础篇）</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2022/03/31/%E5%9B%BE%E8%A7%A3CSS%E4%BC%AA%E7%B1%BB%E5%92%8C%E4%BC%AA%E5%85%83%E7%B4%A0/"><span class="hidden-mobile">图解CSS伪类和伪元素</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/local-search.js"></script><script>$("#local-search-input").on("click",(function(){searchFunc("/local-search.xml","local-search-input","local-search-result")})),$("#modalSearch").on("shown.bs.modal",(function(){$("#local-search-input").focus()}))</script><script src="/js/boot.js"></script></body></html>