<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;light&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><link rel="icon" href="https://cdn.u1.huluxia.com/g3/M03/4D/84/wKgBOV6fGZWATbp6AAAML1Rr8NY150.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="syz"><meta name="keywords" content=""><title>AJAXåŸºç¡€ - syzdev</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"yoursite.com",root:"/",version:"1.8.10",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:1},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:35vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>ğŸ˜„ syzdev</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> é¦–é¡µ</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> å½’æ¡£</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> åˆ†ç±»</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> å…³äº</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://cdn.u1.huluxia.com/g3/M02/4D/6C/wKgBOV6fEU2AXFGSAAJ7A1Fp7rw147.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="AJAXåŸºç¡€"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-08-26 21:46" pubdate>2021å¹´8æœˆ26æ—¥ æ™šä¸Š</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.2k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 47 åˆ†é’Ÿ</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">AJAXåŸºç¡€</h1><div class="markdown-body"><h1 id="1-ajaxç®€ä»‹"><a class="markdownIt-Anchor" href="#1-ajaxç®€ä»‹"></a> 1 AJAXç®€ä»‹</h1><p>Ajax = Asynchronous Javascript And XMLï¼Œå³å¼‚æ­¥JavaScriptå’ŒXMLï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯èƒ½å¤Ÿåœ¨ç½‘é¡µä¸åˆ·æ–°çš„æƒ…å†µä¸‹å‘æœåŠ¡ç«¯å‘é€HTTPè¯·æ±‚ï¼Œç„¶åå¾—åˆ°HTTPå“åº”ã€‚AJAXä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§å°†ç°æœ‰çš„æ ‡å‡†ç»„åˆåœ¨ä¸€èµ·ä½¿ç”¨çš„æ–°æ–¹å¼ã€‚</p><h2 id="11-ajaxçš„ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#11-ajaxçš„ä¼˜ç‚¹"></a> 1.1 AJAXçš„ä¼˜ç‚¹</h2><ul><li>å¯ä»¥æ— éœ€åˆ·æ–°é¡µé¢ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’</li><li>è¿è¡Œæ ¹æ®ç”¨æˆ·äº‹ä»¶æ¥æ›´æ–°éƒ¨åˆ†é¡µé¢å†…å®¹</li></ul><h2 id="12-ajaxçš„ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#12-ajaxçš„ç¼ºç‚¹"></a> 1.2 AJAXçš„ç¼ºç‚¹</h2><ul><li>æ²¡æœ‰æµè§ˆå†å²ï¼Œä¸èƒ½å›é€€</li><li>å­˜åœ¨è·¨åŸŸé—®é¢˜</li><li>SEOé—®é¢˜</li></ul><h1 id="2-xmlç®€ä»‹"><a class="markdownIt-Anchor" href="#2-xmlç®€ä»‹"></a> 2 XMLç®€ä»‹</h1><p>ä¹‹æ‰€ä»¥åœ¨AJAXä¸­æåˆ°XMLæ˜¯å› ä¸ºæœ€åˆAJAXåœ¨è¿›è¡Œæ•°æ®äº¤æ¢çš„æ—¶å€™å°±æ˜¯ä½¿ç”¨XMLæ ¼å¼çš„æ•°æ®ï¼ˆæœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯è¿”å›çš„æ•°æ®å°±æ˜¯XMLæ ¼å¼çš„ï¼Œå®¢æˆ·ç«¯å†è§£æXMLå¾—åˆ°æ•°æ®ï¼‰ï¼ŒXML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆeXtensibleÂ MarkupÂ Languageï¼‰ï¼ŒXML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">note</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">to</span>&gt;</span>Tove<span class="hljs-tag">&lt;/<span class="hljs-name">to</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">from</span>&gt;</span>Jani<span class="hljs-tag">&lt;/<span class="hljs-name">from</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">heading</span>&gt;</span>Reminder<span class="hljs-tag">&lt;/<span class="hljs-name">heading</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>Don&#x27;t forget me this weekend!<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">note</span>&gt;</span><br></code></pre></div></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°XMLå’ŒHTMLç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯HTMLä¸­éƒ½æ˜¯é¢„å®šä¹‰æ ‡ç­¾ï¼Œè€ŒXMLä¸­æ²¡æœ‰é¢„å®šä¹‰æ ‡ç­¾ï¼Œå…¨éƒ¨éƒ½æ˜¯è‡ªå®šä¹‰æ ‡ç­¾ã€‚<br>ä¸è¿‡ç°åœ¨è¿›è¡ŒAJAXæ“ä½œæ—¶ï¼Œä¸å†ä½¿ç”¨XMLäº†ï¼Œéƒ½æ˜¯ä½¿ç”¨JSONæ ¼å¼äº†ï¼Œè¿™ç§æ•°æ®æ ¼å¼æ›´åŠ çµæ´»æ–¹ä¾¿ã€‚</p><h1 id="3-jsonç®€ä»‹"><a class="markdownIt-Anchor" href="#3-jsonç®€ä»‹"></a> 3 JSONç®€ä»‹</h1><p>JSON = JavaScriptÂ ObjectÂ Notationï¼Œå³JavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼ŒJSON æ˜¯å­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•ï¼Œç±»ä¼¼ XMLã€‚JSON æ¯” XML æ›´å°ã€æ›´å¿«ï¼Œæ›´æ˜“è§£æï¼Œå¦‚ï¼š</p><figure class="highlight json"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">&quot;sites&quot;</span>: [<br>      &#123; <span class="hljs-attr">&quot;name&quot;</span>:<span class="hljs-string">&quot;ç™¾åº¦&quot;</span> , <span class="hljs-attr">&quot;url&quot;</span>:<span class="hljs-string">&quot;www.baidu.com&quot;</span> &#125;, <br>      &#123; <span class="hljs-attr">&quot;name&quot;</span>:<span class="hljs-string">&quot;è°·æ­Œ&quot;</span> , <span class="hljs-attr">&quot;url&quot;</span>:<span class="hljs-string">&quot;www.google.com&quot;</span> &#125;, <br>    ]<br>&#125;<br></code></pre></div></td></tr></table></figure><h1 id="4-httpåè®®è¯·æ±‚æŠ¥æ–‡ä¸å“åº”æŠ¥æ–‡çš„æ ¼å¼"><a class="markdownIt-Anchor" href="#4-httpåè®®è¯·æ±‚æŠ¥æ–‡ä¸å“åº”æŠ¥æ–‡çš„æ ¼å¼"></a> 4 HTTPåè®®è¯·æ±‚æŠ¥æ–‡ä¸å“åº”æŠ¥æ–‡çš„æ ¼å¼</h1><p>HTTP = HyperText Transfer Protocolï¼Œå³è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œåè®®è¯¦ç»†è§„å®šäº†æµè§ˆå™¨å’Œä¸‡ç»´ç½‘æœåŠ¡å™¨ä¹‹é—´äº’ç›¸é€šä¿¡çš„è§„åˆ™ã€‚</p><h2 id="41-è¯·æ±‚æŠ¥æ–‡"><a class="markdownIt-Anchor" href="#41-è¯·æ±‚æŠ¥æ–‡"></a> 4.1 è¯·æ±‚æŠ¥æ–‡</h2><p>ä¸€ä¸ªHTTPè¯·æ±‚æŠ¥æ–‡ç”±è¯·æ±‚è¡Œï¼ˆrequest lineï¼‰ã€è¯·æ±‚å¤´éƒ¨ï¼ˆheaderï¼‰ã€ç©ºè¡Œå’Œè¯·æ±‚æ•°æ®4ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¸‹å›¾ç»™å‡ºäº†è¯·æ±‚æŠ¥æ–‡çš„ä¸€èˆ¬æ ¼å¼ï¼š<br><img src="https://img-blog.csdnimg.cn/876d38bed9064ebd812dd84d791900c9.png" srcset="/img/loading.gif" lazyload alt=""></p><h2 id="42-å“åº”æŠ¥æ–‡"><a class="markdownIt-Anchor" href="#42-å“åº”æŠ¥æ–‡"></a> 4.2 å“åº”æŠ¥æ–‡</h2><p>HTTPå“åº”æŠ¥æ–‡ç”±çŠ¶æ€è¡Œã€å“åº”å¤´éƒ¨ã€ç©ºè¡Œ å’Œ å“åº”åŒ…ä½“ 4 ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://img-blog.csdnimg.cn/a69f0a2501ee4804ab2dac440c3d1fa5.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="5-ajaxè¯·æ±‚çš„åŸºæœ¬æ“ä½œ"><a class="markdownIt-Anchor" href="#5-ajaxè¯·æ±‚çš„åŸºæœ¬æ“ä½œ"></a> 5 AJAXè¯·æ±‚çš„åŸºæœ¬æ“ä½œ</h1><p>æ–°å»ºæ–‡ä»¶å¤¹ï¼Œè¾“å…¥å‘½ä»¤ï¼š<code>npm init --yes</code>ï¼Œåˆå§‹åŒ–é¡¹ç›®ï¼Œè¾“å…¥<code>npm i express</code>å®‰è£…Expressæ¡†æ¶ï¼Œæ–°å»º<code>express.js</code>ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><span class="hljs-keyword">const</span> app = express()<br>app.get(<span class="hljs-string">&#x27;/msg&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// è®¾ç½®å“åº”å¤´ï¼Œå…è®¸è·¨åŸŸ</span><br>  response.setHeader(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>)<br>  <span class="hljs-comment">// è®¾ç½®å“åº”ä½“</span><br>  response.send(<span class="hljs-string">&#x27;ok&#x27;</span>)<br>&#125;)<br>app.listen(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;æœåŠ¡å·²å¯åŠ¨ï¼Œç›‘å¬3000ç«¯å£&#x27;</span>)<br>&#125;)<br></code></pre></div></td></tr></table></figure><p>è¾“å…¥<code>node express.js</code>å‘½ä»¤åå³å¯å¯åŠ¨æœåŠ¡ï¼ˆå»ºè®®ä½¿ç”¨nodemonå·¥å…·ï¼Œè¾“å…¥å‘½ä»¤<code>nodemon express.js</code>åå¯ä»¥å®ç°çƒ­æ›´æ–°ï¼‰ã€‚åœ¨é¡µé¢ä¸­å‘é€è¯·æ±‚çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">send</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest()<br>  xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>)<br>  xhr.send()<br>  xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// æœåŠ¡ç«¯è¿”å›äº†æ‰€æœ‰ç»“æœ</span><br>    <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;<br>      <span class="hljs-comment">// å“åº”æˆåŠŸï¼ŒçŠ¶æ€ç é¦–ä½ä¸º2æ—¶ï¼Œä»£è¡¨è¯·æ±‚æˆåŠŸ</span><br>      <span class="hljs-keyword">if</span> (xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) &#123;<br>        <span class="hljs-comment">// 1.å“åº”è¡Œ</span><br>        <span class="hljs-built_in">console</span>.log(xhr.status)<br>        <span class="hljs-comment">// 2.å“åº”çŠ¶æ€å­—ç¬¦ä¸²</span><br>        <span class="hljs-built_in">console</span>.log(xhr.statusText)<br>        <span class="hljs-comment">// 3.æ‰€æœ‰å“åº”å¤´</span><br>        <span class="hljs-built_in">console</span>.log(xhr.getAllResponseHeaders())<br>        <span class="hljs-comment">// 4.å“åº”ä½“</span><br>        <span class="hljs-built_in">console</span>.log(xhr.response)<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-number">200</span><br>OK<br>content-length: <span class="hljs-number">2</span><br>content-type: text/html; charset=utf-<span class="hljs-number">8</span><br>ok<br></code></pre></div></td></tr></table></figure><h1 id="6-ajaxè®¾ç½®è¯·æ±‚å‚æ•°"><a class="markdownIt-Anchor" href="#6-ajaxè®¾ç½®è¯·æ±‚å‚æ•°"></a> 6 AJAXè®¾ç½®è¯·æ±‚å‚æ•°</h1><p>è¯·æ±‚å‚æ•°çš„æ·»åŠ æ–¹æ³•å¯ä»¥åœ¨è¯·æ±‚URLåé¢è·Ÿä¸Šâ€œ<code>?</code>â€ï¼Œå†æ¥ä¸Šç­‰å¼ï¼Œå¦‚â€œ<code>?a=1</code>â€ï¼Œè‹¥éœ€è¦æ·»åŠ å¤šä¸ªå‚æ•°ï¼Œåˆ™ä½¿ç”¨â€œ<code>&amp;</code>â€åˆ†éš”å³å¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:3000/msg?a=1&amp;b=2&#x27;</span>)<br></code></pre></div></td></tr></table></figure><p>å‘é€è¯·æ±‚åï¼Œå¯ä»¥åœ¨Chromeæµè§ˆå™¨çš„å¼€å‘è€…è°ƒè¯•å·¥å…·â€œNetworkâ€ä¸­é€‰æ‹©è¯¥è¯·æ±‚ï¼Œåœ¨å³ä¾§çš„â€œHeadersâ€ä¸­çœ‹åˆ°â€œQuery String Parametersâ€ï¼š<br><img src="https://img-blog.csdnimg.cn/b8332a14b4f448f78b57c618274c3f74.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="7-ajaxå‘é€postè¯·æ±‚"><a class="markdownIt-Anchor" href="#7-ajaxå‘é€postè¯·æ±‚"></a> 7 AJAXå‘é€POSTè¯·æ±‚</h1><p>åœ¨<code>express.js</code>ä¸­æ·»åŠ å¤„ç†POSTè¯·æ±‚çš„è·¯ç”±ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">  const express = require(&#x27;express&#x27;)<br>  const app = express()<br>  app.get(&#x27;/msg&#x27;, (request, response) =&gt; &#123;<br>    // è®¾ç½®å“åº”å¤´ï¼Œè¿è¡Œè·¨åŸŸ<br>    response.setHeader(&#x27;Access-Control-Allow-Origin&#x27;, &#x27;*&#x27;)<br>    // è®¾ç½®å“åº”ä½“<br>    response.send(&#x27;ok&#x27;)<br>  &#125;)<br><span class="hljs-addition">+  app.post(&#x27;/msg&#x27;, (request, response) =&gt; &#123;</span><br><span class="hljs-addition">+    response.setHeader(&#x27;Access-Control-Allow-Origin&#x27;, &#x27;*&#x27;)</span><br><span class="hljs-addition">+    response.send(&#x27;POST OK&#x27;)</span><br><span class="hljs-addition">+  &#125;)</span><br>  app.listen(3000, () =&gt; &#123;<br>    console.log(&#x27;æœåŠ¡å·²å¯åŠ¨ï¼Œç›‘å¬3000ç«¯å£&#x27;)<br>  &#125;)<br></code></pre></div></td></tr></table></figure><p>é¡µé¢ä¸­å‘é€è¯·æ±‚çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest()<br>xhr.open(<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>)<br>xhr.send()<br>xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;<br>    <span class="hljs-comment">// å“åº”æˆåŠŸï¼ŒçŠ¶æ€ç é¦–ä½ä¸º2æ—¶ï¼Œä»£è¡¨è¯·æ±‚æˆåŠŸ</span><br>    <span class="hljs-keyword">if</span> (xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) &#123;<br>      <span class="hljs-built_in">console</span>.log(xhr.response)<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å‘é€è¯·æ±‚åè¾“å‡ºï¼šâ€œPOST OKâ€ã€‚å¦å¤–ï¼Œåœ¨å‘é€POSTè¯·æ±‚æ—¶å¯ä»¥æ‰‹åŠ¨è®¾ç½®è¯·æ±‚ä½“ï¼Œå¯ä»¥æŠŠè¯·æ±‚ä½“æ”¾åœ¨<code>xhr.send()</code>çš„å‚æ•°ä¸­ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">    function send() &#123;<br>      const xhr = new XMLHttpRequest()<br>      xhr.open(&#x27;POST&#x27;, &#x27;http://127.0.0.1:3000/msg&#x27;)<br><span class="hljs-addition">+      xhr.send(&#x27;a=1&amp;b=2&#x27;)</span><br>      xhr.onreadystatechange = function() &#123;<br>        if (xhr.readyState <span class="hljs-comment">=== 4) &#123;</span><br>          // å“åº”æˆåŠŸï¼ŒçŠ¶æ€ç é¦–ä½ä¸º2æ—¶ï¼Œä»£è¡¨è¯·æ±‚æˆåŠŸ<br>          if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123;<br>            console.log(xhr.response)<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br></code></pre></div></td></tr></table></figure><p>å‘é€POSTè¯·æ±‚åï¼Œå¯ä»¥åœ¨å¼€å‘è€…è°ƒè¯•å·¥å…·ä¸­çœ‹åˆ°ï¼š<br><img src="https://img-blog.csdnimg.cn/42ca93f718714f7b87f5151f7d1abebc.png" srcset="/img/loading.gif" lazyload alt=""></p><h1 id="8-ajaxä¸­è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯"><a class="markdownIt-Anchor" href="#8-ajaxä¸­è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯"></a> 8 AJAXä¸­è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</h1><p>è®¾ç½®è¯·æ±‚å¤´çš„æ–¹æ³•ä¸º<code>setRequestHeader</code>ï¼Œå®ƒå¿…é¡»åœ¨<code>open</code>å<code>send</code>å‰ï¼Œå¦‚ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">    function send() &#123;<br>      const xhr = new XMLHttpRequest()<br>      xhr.open(&#x27;POST&#x27;, &#x27;http://127.0.0.1:3000/msg&#x27;)<br>      // è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯<br><span class="hljs-addition">+      xhr.setRequestHeader(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)</span><br>      xhr.send(&#x27;a=1&amp;b=2&#x27;)<br>      xhr.onreadystatechange = function() &#123;<br>        if (xhr.readyState <span class="hljs-comment">=== 4) &#123;</span><br>          if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123;<br>            console.log(xhr.response)<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br></code></pre></div></td></tr></table></figure><p>æ­¤å¤–è¿˜å¯ä»¥è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼Œå¦‚ï¼š<code>xhr.setRequestHeader('MyRequestHeader',Â 'test')</code>ï¼Œä¸è¿‡è®¾ç½®è¿™ç§è¯·æ±‚å¤´åå‘é€è¯·æ±‚ä¼šè§¦å‘å®‰å…¨æœºåˆ¶ã€‚</p><h1 id="9-æœåŠ¡ç«¯å“åº”jsonæ•°æ®"><a class="markdownIt-Anchor" href="#9-æœåŠ¡ç«¯å“åº”jsonæ•°æ®"></a> 9 æœåŠ¡ç«¯å“åº”JSONæ•°æ®</h1><p>åœ¨<code>express.js</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">app.get(<span class="hljs-string">&#x27;/json&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>  response.setHeader(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>)<br>  <span class="hljs-keyword">const</span> jsonData = &#123;<br>    name: <span class="hljs-string">&#x27;syz&#x27;</span><br>  &#125;<br>  <span class="hljs-comment">// å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>  <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(jsonData)<br>  <span class="hljs-comment">// sendåªèƒ½å‘é€å­—ç¬¦ä¸²</span><br>  response.send(str)<br>&#125;)<br></code></pre></div></td></tr></table></figure><p>å‘é€è¯·æ±‚çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">send</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest()<br>  xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:3000/json&#x27;</span>)<br>  xhr.send()<br>  xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;<br>      <span class="hljs-keyword">if</span> (xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) &#123;<br>        <span class="hljs-built_in">console</span>.log(xhr.response)<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š<code>&#123;&quot;name&quot;:&quot;syz&quot;&#125;</code>ï¼Œæ³¨æ„è¿™é‡Œåªæ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œå®¢æˆ·ç«¯è¦å¯¹è¯¥æ•°æ®è¿›è¡Œå¤„ç†ï¼Œåˆ™éœ€è¦å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">    function send() &#123;<br>      const xhr = new XMLHttpRequest()<br>      xhr.open(&#x27;GET&#x27;, &#x27;http://127.0.0.1:3000/json&#x27;)<br>      xhr.send()<br>      xhr.onreadystatechange = function() &#123;<br>        if (xhr.readyState <span class="hljs-comment">=== 4) &#123;</span><br>          if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123;<br><span class="hljs-addition">+          	 // å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡</span><br><span class="hljs-addition">+            let data = JSON.parse(xhr.response)</span><br><span class="hljs-addition">+            console.log(data)</span><br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br></code></pre></div></td></tr></table></figure><p>è¿™æ ·è¾“å‡ºçš„ç»“æœå°±ä¸ºå¯¹è±¡çš„å½¢å¼ã€‚æ­¤å¤–è¿˜æœ‰ä¸€ç§è‡ªåŠ¨è½¬æ¢çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼éœ€è¦å€ŸåŠ©äº<code>XMLHttpRequest</code>å¯¹è±¡ä¸Šçš„<code>respnseType</code>å±æ€§ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">    function send() &#123;<br>      const xhr = new XMLHttpRequest()<br><span class="hljs-addition">+      // å°†å“åº”ç±»å‹è®¾ç½®ä¸ºjson</span><br><span class="hljs-addition">+      xhr.responseType = &#x27;json&#x27;</span><br>      xhr.open(&#x27;GET&#x27;, &#x27;http://127.0.0.1:3000/json&#x27;)<br>      xhr.send()<br>      xhr.onreadystatechange = function() &#123;<br>        if (xhr.readyState <span class="hljs-comment">=== 4) &#123;</span><br>          if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123;<br>            console.log(xhr.response)<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br></code></pre></div></td></tr></table></figure><p>è¿™æ ·è¾“å‡ºçš„ç»“æœä¹Ÿæ˜¯å¯¹è±¡çš„å½¢å¼ï¼Œè¿™ç§æ–¹å¼æ›´åŠ çš„æ–¹ä¾¿ã€‚</p><h1 id="10-ajaxè¯·æ±‚è¶…æ—¶ä¸å¼‚å¸¸å¤„ç†"><a class="markdownIt-Anchor" href="#10-ajaxè¯·æ±‚è¶…æ—¶ä¸å¼‚å¸¸å¤„ç†"></a> 10 AJAXè¯·æ±‚è¶…æ—¶ä¸å¼‚å¸¸å¤„ç†</h1><p>ä¿®æ”¹<code>express.js</code>ä¸­çš„<code>msg</code>æ¥å£ï¼Œå°†å…¶è®¾ç½®ä¸º4ç§’åå†è¿”å›ç»“æœï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">app.post(<span class="hljs-string">&#x27;/msg&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>  response.setHeader(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>)<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    response.send(<span class="hljs-string">&#x27;POST OK&#x27;</span>)<br>  &#125;, <span class="hljs-number">4000</span>);<br>&#125;)<br></code></pre></div></td></tr></table></figure><p>é¡µé¢ä¸­çš„è®¿é—®æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">send</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest()<br>  <span class="hljs-comment">// è¶…æ—¶è®¾ç½®ï¼Œè®¾ç½®ä¸º2ç§’ï¼Œè‹¥2ç§’åè¿˜æ²¡æœ‰å¾—åˆ°ç»“æœï¼Œåˆ™è¯·æ±‚å–æ¶ˆ</span><br>  xhr.timeout = <span class="hljs-number">2000</span><br>  xhr.open(<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>)<br>  xhr.send()<br>  xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;<br>      <span class="hljs-keyword">if</span> (xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) &#123;<br>        <span class="hljs-built_in">console</span>.log(xhr.response)<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å‘é€è¯·æ±‚åå¯ä»¥çœ‹åˆ°è¯·æ±‚çš„çŠ¶æ€åœ¨2ç§’åå˜ä¸ºäº†<code>canceled</code>ï¼š<br><img src="https://img-blog.csdnimg.cn/2dfd32f769844a02982bbcc3e93cd08b.png" srcset="/img/loading.gif" lazyload alt=""><br>è¿˜å¯ä»¥ä¸ºè¶…æ—¶è®¾ç½®å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">    function send() &#123;<br>      const xhr = new XMLHttpRequest()<br>      // è¶…æ—¶è®¾ç½®ï¼Œè®¾ç½®ä¸º2ç§’ï¼Œè‹¥2ç§’åè¿˜æ²¡æœ‰å¾—åˆ°ç»“æœï¼Œåˆ™è¯·æ±‚å–æ¶ˆ<br>      xhr.timeout = 2000<br><span class="hljs-addition">+      // è¶…æ—¶å›è°ƒ</span><br><span class="hljs-addition">+      xhr.ontimeout = function() &#123;</span><br><span class="hljs-addition">+        console.log(&#x27;è¯·æ±‚è¶…æ—¶ï¼Œè¯·ç¨åå†è¯•ï¼&#x27;)</span><br><span class="hljs-addition">+      &#125;</span><br>      xhr.open(&#x27;POST&#x27;, &#x27;http://127.0.0.1:3000/msg&#x27;)<br>      xhr.send()<br>      xhr.onreadystatechange = function() &#123;<br>        if (xhr.readyState <span class="hljs-comment">=== 4) &#123;</span><br>          if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123;<br>            console.log(xhr.response)<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br></code></pre></div></td></tr></table></figure><p>è¿˜å¯ä»¥è®¾ç½®ç½‘ç»œå¼‚å¸¸çš„å›è°ƒï¼Œå¦‚æ²¡æœ‰ç½‘ç»œï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">    function send() &#123;<br>      const xhr = new XMLHttpRequest()<br>      // è¶…æ—¶è®¾ç½®ï¼Œè®¾ç½®ä¸º2ç§’ï¼Œè‹¥2ç§’åè¿˜æ²¡æœ‰å¾—åˆ°ç»“æœï¼Œåˆ™è¯·æ±‚å–æ¶ˆ<br>      xhr.timeout = 2000<br>      // è¶…æ—¶å›è°ƒ<br>      xhr.ontimeout = function() &#123;<br>        console.log(&#x27;è¯·æ±‚è¶…æ—¶ï¼Œè¯·ç¨åå†è¯•ï¼&#x27;)<br>      &#125;<br><span class="hljs-addition">+      // å¼‚å¸¸å›è°ƒ</span><br><span class="hljs-addition">+      xhr.onerror = function() &#123;</span><br><span class="hljs-addition">+        console.log(&#x27;ç½‘ç»œå¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£ç¡®ï¼&#x27;)</span><br><span class="hljs-addition">+      &#125;</span><br>      xhr.open(&#x27;POST&#x27;, &#x27;http://127.0.0.1:3000/msg&#x27;)<br>      xhr.send()<br>      xhr.onreadystatechange = function() &#123;<br>        if (xhr.readyState <span class="hljs-comment">=== 4) &#123;</span><br>          if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123;<br>            console.log(xhr.response)<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br></code></pre></div></td></tr></table></figure><h1 id="11-ajaxå–æ¶ˆè¯·æ±‚"><a class="markdownIt-Anchor" href="#11-ajaxå–æ¶ˆè¯·æ±‚"></a> 11 AJAXå–æ¶ˆè¯·æ±‚</h1><p>å–æ¶ˆè¯·æ±‚éœ€è¦ä½¿ç”¨<code>XMLHttpRequest</code>ä¸Šçš„<code>abort</code>æ–¹æ³•ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff"><span class="hljs-addition">+    let xhr = null</span><br><br>    function send() &#123;<br>      xhr = new XMLHttpRequest()<br>      xhr.open(&#x27;POST&#x27;, &#x27;http://127.0.0.1:3000/msg&#x27;)<br>      xhr.send()<br>      xhr.onreadystatechange = function() &#123;<br>        if (xhr.readyState <span class="hljs-comment">=== 4) &#123;</span><br>          if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123;<br>            console.log(xhr.response)<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br><br><span class="hljs-addition">+    function cancelSend() &#123;</span><br><span class="hljs-addition">+      xhr.abort()</span><br><span class="hljs-addition">+    &#125;</span><br></code></pre></div></td></tr></table></figure><h1 id="12-ajaxå¤„ç†é‡å¤è¯·æ±‚"><a class="markdownIt-Anchor" href="#12-ajaxå¤„ç†é‡å¤è¯·æ±‚"></a> 12 AJAXå¤„ç†é‡å¤è¯·æ±‚</h1><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> xhr = <span class="hljs-literal">null</span><br><span class="hljs-comment">// æ ‡è¯†å˜é‡ï¼Œå½“å‰æ˜¯å¦åœ¨å‘é€AJAXè¯·æ±‚</span><br><span class="hljs-keyword">let</span> isSending = <span class="hljs-literal">false</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">send</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">// å¦‚æœå·²ç»å‘é€äº†ï¼Œåˆ™å–æ¶ˆä¸Šä¸€æ¬¡çš„è¯·æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚</span><br>  <span class="hljs-keyword">if</span> (isSending) &#123;<br>    xhr.abort()<br>  &#125;<br>  <span class="hljs-comment">// åœ¨å‘é€è¯·æ±‚</span><br>  isSending = <span class="hljs-literal">true</span><br>  xhr = <span class="hljs-keyword">new</span> XMLHttpRequest()<br>  xhr.open(<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>)<br>  xhr.send()<br>  xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;<br>      <span class="hljs-comment">// å‘é€è¯·æ±‚æˆåŠŸ</span><br>      isSending = <span class="hljs-literal">false</span><br>      <span class="hljs-keyword">if</span> (xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) &#123;<br>        <span class="hljs-built_in">console</span>.log(xhr.response)<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><h1 id="13-jqueryä¸­å‘é€ajaxè¯·æ±‚"><a class="markdownIt-Anchor" href="#13-jqueryä¸­å‘é€ajaxè¯·æ±‚"></a> 13 JQueryä¸­å‘é€AJAXè¯·æ±‚</h1><h2 id="131-å‘é€getè¯·æ±‚"><a class="markdownIt-Anchor" href="#131-å‘é€getè¯·æ±‚"></a> 13.1 å‘é€GETè¯·æ±‚</h2><p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¯·æ±‚çš„URLï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè¯·æ±‚å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè¯·æ±‚çš„å›è°ƒã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">$.get(<span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>, &#123;<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>&#125;, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(data)<br>&#125;)<br></code></pre></div></td></tr></table></figure><p>è¿˜å¯ä»¥ä¼ å…¥ç¬¬å››ä¸ªå‚æ•°ï¼Œç¬¬å››ä¸ªå‚æ•°åˆ™æ˜¯å“åº”ä½“ç±»å‹ï¼Œå¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">$.get(<span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>, &#123;<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>&#125;, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(data)<br>&#125;, <span class="hljs-string">&#x27;json&#x27;</span>)<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œå°±å°†å“åº”ä½“çš„ç±»å‹è®¾ç½®ä¸ºäº†JSONæ ¼å¼ã€‚</p><h2 id="132-å‘é€postè¯·æ±‚"><a class="markdownIt-Anchor" href="#132-å‘é€postè¯·æ±‚"></a> 13.2 å‘é€POSTè¯·æ±‚</h2><p>å‘é€POSTè¯·æ±‚çš„æ–¹æ³•ä¸å‘é€GETè¯·æ±‚çš„æ–¹æ³•ç±»ä¼¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">$.post(<span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>, &#123;<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>&#125;, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(data)<br>&#125;)<br></code></pre></div></td></tr></table></figure><h2 id="133-å‘é€è¯·æ±‚é€šç”¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#133-å‘é€è¯·æ±‚é€šç”¨æ–¹æ³•"></a> 13.3 å‘é€è¯·æ±‚é€šç”¨æ–¹æ³•</h2><p>JQueryä¸­å‘é€è¯·æ±‚çš„é€šç”¨æ–¹æ³•ä¸º<code>$</code>å¯¹è±¡ä¸Šçš„<code>ajax</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶çš„å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">$.ajax(&#123;<br>  <span class="hljs-comment">// url</span><br>  url: <span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>,<br>  <span class="hljs-comment">// å‚æ•°</span><br>  data: &#123;<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>&#125;,<br>  <span class="hljs-comment">// è¯·æ±‚ç±»å‹</span><br>  type: <span class="hljs-string">&#x27;GET&#x27;</span>,<br>  <span class="hljs-comment">// å“åº”ä½“ç»“æœçš„ç±»å‹</span><br>  dataType: <span class="hljs-string">&#x27;json&#x27;</span>,<br>  <span class="hljs-comment">// æˆåŠŸçš„å›è°ƒ</span><br>  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(data)<br>  &#125;,<br>  <span class="hljs-comment">// å¤±è´¥çš„å›è°ƒ </span><br>  error: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;err&#x27;</span>)<br>  &#125;,<br>  <span class="hljs-comment">// è¶…æ—¶æ—¶é—´</span><br>  timeout: <span class="hljs-number">4000</span>,<br>  <span class="hljs-comment">// å¤´ä¿¡æ¯</span><br>  headers: &#123;<br>    <span class="hljs-comment">// MyHeaders: 123</span><br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure><h1 id="14-axiosä¸­å‘é€ajaxè¯·æ±‚"><a class="markdownIt-Anchor" href="#14-axiosä¸­å‘é€ajaxè¯·æ±‚"></a> 14 Axiosä¸­å‘é€AJAXè¯·æ±‚</h1><p>Axiosæ˜¯ç›®å‰å‰ç«¯é¢†åŸŸä¸­æœ€çƒ­é—¨çš„AJAXå·¥å…·åº“ï¼Œä¹Ÿæ˜¯Vueå’ŒReactå®˜æ–¹æ¨èçš„å·¥å…·åº“ã€‚</p><h2 id="141-axioså‘é€getè¯·æ±‚"><a class="markdownIt-Anchor" href="#141-axioså‘é€getè¯·æ±‚"></a> 14.1 Axioså‘é€GETè¯·æ±‚</h2><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">axios.defaults.baseURL = <span class="hljs-string">&#x27;http://127.0.0.1:3000&#x27;</span><br>axios.get(<span class="hljs-string">&#x27;/msg&#x27;</span>, &#123;<br>  <span class="hljs-comment">// urlå‚æ•°</span><br>  params: &#123;<br>    a: <span class="hljs-number">1</span>,<br>    b: <span class="hljs-number">2</span><br>  &#125;,<br>  <span class="hljs-comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span><br>  headers: &#123;<br>    MyHeaders: <span class="hljs-number">123</span><br>  &#125;<br>&#125;).then(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> &#123;<br>  <span class="hljs-comment">// åŸºäºPromise</span><br>  <span class="hljs-built_in">console</span>.log(value)<br>&#125;)<br></code></pre></div></td></tr></table></figure><h2 id="142-axioså‘é€postè¯·æ±‚"><a class="markdownIt-Anchor" href="#142-axioså‘é€postè¯·æ±‚"></a> 14.2 Axioså‘é€POSTè¯·æ±‚</h2><p>å‘é€POSTè¯·æ±‚å¯ä»¥è®¾ç½®è¯·æ±‚ä½“ä¿¡æ¯ï¼Œæ”¾åœ¨<code>post</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">axios.defaults.baseURL = <span class="hljs-string">&#x27;http://127.0.0.1:3000&#x27;</span><br>axios.post(<span class="hljs-string">&#x27;/msg&#x27;</span>, &#123;<br>  username: <span class="hljs-string">&#x27;admin&#x27;</span>,<br>  password: <span class="hljs-string">&#x27;123456&#x27;</span><br>&#125;, &#123;<br>  <span class="hljs-comment">// urlå‚æ•°</span><br>  params: &#123;<br>    a: <span class="hljs-number">1</span>,<br>    b: <span class="hljs-number">2</span><br>  &#125;,<br>  <span class="hljs-comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span><br>  headers: &#123;<br>    MyHeaders: <span class="hljs-number">123</span><br>  &#125;,<br>&#125;).then(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> &#123;<br>  <span class="hljs-comment">// åŸºäºPromise</span><br>  <span class="hljs-built_in">console</span>.log(value)<br>&#125;)<br></code></pre></div></td></tr></table></figure><h2 id="143-axioså‘é€è¯·æ±‚é€šç”¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#143-axioså‘é€è¯·æ±‚é€šç”¨æ–¹æ³•"></a> 14.3 Axioså‘é€è¯·æ±‚é€šç”¨æ–¹æ³•</h2><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">axios.defaults.baseURL = <span class="hljs-string">&#x27;http://127.0.0.1:3000&#x27;</span><br>axios(&#123;<br>  <span class="hljs-comment">// è¯·æ±‚æ–¹æ³•</span><br>  method: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>  <span class="hljs-comment">// url</span><br>  url: <span class="hljs-string">&#x27;/msg&#x27;</span>,<br>  <span class="hljs-comment">// urlå‚æ•°</span><br>  params: &#123;<br>    a: <span class="hljs-number">1</span>,<br>    b: <span class="hljs-number">2</span><br>  &#125;,<br>  <span class="hljs-comment">// å¤´ä¿¡æ¯</span><br>  headers: &#123;<br>    MyHeaders: <span class="hljs-number">123</span><br>  &#125;,<br>  <span class="hljs-comment">// è¯·æ±‚ä½“å‚æ•°</span><br>  data: &#123;<br>    username: <span class="hljs-string">&#x27;admin&#x27;</span>,<br>    password: <span class="hljs-string">&#x27;123456&#x27;</span><br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure><h1 id="15-fetchæ–¹æ³•å‘é€ajaxè¯·æ±‚"><a class="markdownIt-Anchor" href="#15-fetchæ–¹æ³•å‘é€ajaxè¯·æ±‚"></a> 15 fetchæ–¹æ³•å‘é€AJAXè¯·æ±‚</h1><p><code>fetch</code>æ–¹æ³•å…¨å±€è‡ªå¸¦ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">fetch(<span class="hljs-string">&#x27;http://127.0.0.1:3000/msg&#x27;</span>, &#123;<br>  <span class="hljs-comment">// è¯·æ±‚æ–¹æ³•</span><br>  method: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>  <span class="hljs-comment">// è¯·æ±‚å¤´</span><br>  headers: &#123;<br>    MyHeaders: <span class="hljs-number">123</span><br>  &#125;,<br>  <span class="hljs-comment">// è¯·æ±‚ä½“</span><br>  body: <span class="hljs-string">&#x27;username=admin&amp;password=123456&#x27;</span><br>&#125;).then(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// è°ƒç”¨fetchä¸­çš„textæ–¹æ³•ï¼Œå†è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡</span><br>  <span class="hljs-keyword">return</span> response.text()<br>  <span class="hljs-comment">// å¦‚æœæœåŠ¡å™¨è¿”å›çš„æ˜¯jsonæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨jsonæ–¹æ³•</span><br>  <span class="hljs-comment">// return response.json()</span><br>&#125;).then(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// è·å–åˆ°æœ€ç»ˆçš„å“åº”æ•°æ®</span><br>  <span class="hljs-built_in">console</span>.log(response)<br>&#125;)<br></code></pre></div></td></tr></table></figure></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></div></div><p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2022/03/15/%E6%B5%AE%E5%8A%A8%E5%92%8C%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">æµ®åŠ¨å’Œæ¸…é™¤æµ®åŠ¨</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/2021/08/20/Promise%E8%87%AA%E5%AE%9A%E4%B9%89/"><span class="hidden-mobile">Promiseè‡ªå®šä¹‰</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/local-search.js"></script><script>$("#local-search-input").on("click",(function(){searchFunc("/local-search.xml","local-search-input","local-search-result")})),$("#modalSearch").on("shown.bs.modal",(function(){$("#local-search-input").focus()}))</script><script src="/js/boot.js"></script></body></html>